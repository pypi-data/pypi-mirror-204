import{g as Y,r as C,a as d,u as j,c as T,a2 as ae,ar as te,m as M,d as ne,aC as p,aD as J,z as se,o as r,n as E,f as V,w as o,F as K,v as Q,h as b,i as U,q as h,l as B,j as g}from"./index-b2a054f2.js";import{a as de,b as re,c as oe,d as ie,V as ue}from"./VExpansionPanel-7942ad62.js";import{u as Z,H as pe,L as be,b as ye,V as I}from"./VBtn-0977a48f.js";import{a as ce,c as Ve,m as ge,u as ke,f as me,V as ve,b as W}from"./VLabel-f8a655b7.js";import{f as he}from"./forwardRefs-82423578.js";import{a as Ce,c as $e}from"./VCard-abc5aa23.js";import{d as fe}from"./VCardText-db7c3153.js";import{V as Ee}from"./VSpacer-454f4925.js";import{V as we}from"./VDialog-37e53ec6.js";import{V as Ue}from"./VDivider-00712c8a.js";import{a as Se,b as X}from"./VCheckboxBtn-3dd95301.js";import{V as L,c as qe}from"./VSelect-aaee1a18.js";const Ie=Y()({name:"VForm",props:{...ce()},emits:{"update:modelValue":s=>!0,submit:s=>!0},setup(s,S){let{slots:$,emit:u}=S;const y=Ve(s),m=C();function q(i){i.preventDefault(),y.reset()}function f(i){const k=i,c=y.validate();k.then=c.then.bind(c),k.catch=c.catch.bind(c),k.finally=c.finally.bind(c),u("submit",k),k.defaultPrevented||c.then(P=>{var w;let{valid:R}=P;R&&((w=m.value)==null||w.submit())}),k.preventDefault()}return Z(()=>{var i;return d("form",{ref:m,class:"v-form",novalidate:!0,onReset:q,onSubmit:f},[(i=$.default)==null?void 0:i.call($,y)])}),he(y,m)}});const Te=Y()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ge(),...Se()},emits:{"update:focused":s=>!0,"update:modelValue":()=>!0,"update:indeterminate":s=>!0},setup(s,S){let{attrs:$,slots:u}=S;const y=j(s,"indeterminate"),m=j(s,"modelValue"),{loaderClasses:q}=pe(s),{isFocused:f,focus:i,blur:k}=ke(s),c=T(()=>typeof s.loading=="string"&&s.loading!==""?s.loading:s.color),P=ae(),R=T(()=>s.id||`switch-${P}`);function w(){y.value&&(y.value=!1)}return Z(()=>{const[F,N]=te($),[D,O]=me(s),[v,z]=X.filterProps(s),l=C();function a(){var n,e;(e=(n=l.value)==null?void 0:n.input)==null||e.click()}return d(ve,M({class:["v-switch",{"v-switch--inset":s.inset},{"v-switch--indeterminate":y.value},q.value]},F,D,{id:R.value,focused:f.value}),{...u,default:n=>{let{id:e,messagesId:x,isDisabled:A,isReadonly:t,isValid:_}=n;return d(X,M({ref:l},v,{modelValue:m.value,"onUpdate:modelValue":[G=>m.value=G,w],id:e.value,"aria-describedby":x.value,type:"checkbox","aria-checked":y.value?"mixed":void 0,disabled:A.value,readonly:t.value,onFocus:i,onBlur:k},N),{...u,default:()=>d("div",{class:"v-switch__track",onClick:a},null),input:G=>{let{textColorClasses:ee,textColorStyles:le}=G;return d("div",{class:["v-switch__thumb",ee.value],style:le.value},[s.loading&&d(be,{name:"v-switch",active:!0,color:_.value===!1?void 0:c.value},{default:H=>u.loader?u.loader(H):d(ye,{active:H.isActive,color:H.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),Pe={class:"expansion-panel-text"},Re=g("br",null,null,-1),Be={class:"configcolumnleft"},xe={key:0},Ae=g("br",null,null,-1),Le=g("br",null,null,-1),Fe=g("br",null,null,-1),Ne={key:1},De=g("br",null,null,-1),Oe={key:2},ze=g("br",null,null,-1),Ge={key:0,class:"configcolumnright"},He=g("br",null,null,-1),je=g("br",null,null,-1),tl=ne({__name:"EditConfig",props:{configEntries:null,disabled:{type:Boolean}},emits:["submit","action"],setup(s,{emit:S}){const $=s,u=C(),y=C(!1),m=C(),q=C("basic"),f=C(!1),i=C(),k=C({}),c=T(()=>u.value?u.value.filter(l=>l.advanced&&!l.hidden).length>0:!1),P=T(()=>c.value?["basic","advanced"]:["basic"]),R=T(()=>{for(const l of u.value)if(l.required&&!(!z(l.value)||!z(l.default_value)||l.type==p.DIVIDER||l.type==p.LABEL))return!1;return!0}),w=T(()=>{const l={};for(const a of $.configEntries)a.value!=null&&(a.type==p.SECURE_STRING&&a.value==J||(l[a.key]=a.value));return l});se(()=>$.configEntries,l=>{u.value=[];for(const a of l||[])a.value&&(k.value[a.key]=a.value),a.value||(a.value=a.default_value),u.value.push(a)},{immediate:!0});const F=async function(){const{valid:l}=await m.value.validate();return l},N=async function(){await F()&&S("submit",w.value)},D=async function(l){S("action",l,w.value)},O=function(l){window.open(l,"_blank")},v=function(l){var a,n;return((n=(a=u.value)==null?void 0:a.find(e=>e.key==l))==null?void 0:n.value)||void 0},z=function(l){return l==null};return(l,a)=>(r(),E("section",null,[u.value?(r(),V(Ie,{key:0,ref_key:"form",ref:m,modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=n=>y.value=n),style:{"margin-right":"10px"},disabled:s.disabled},{default:o(()=>[d(de,{modelValue:q.value,"onUpdate:modelValue":a[1]||(a[1]=n=>q.value=n),variant:"accordion",multiple:""},{default:o(()=>[(r(!0),E(K,null,Q(b(P),n=>(r(),V(re,{key:n,value:n},{default:o(()=>[n=="advanced"?(r(),V(oe,{key:0},{default:o(()=>[g("div",Pe,h(l.$t("settings.advanced_settings")),1)]),_:1})):B("",!0),Re,d(ie,null,{default:o(()=>[(r(!0),E(K,null,Q(u.value.filter(e=>e.advanced==(n=="advanced")&&!e.hidden),e=>{var x,A;return r(),E("div",{key:e.key,class:"configrow"},[g("div",Be,[e.type==b(p).DIVIDER?(r(),E("div",xe,[Ae,d(Ue),e.label?(r(),V(W,{key:0,style:{"margin-left":"8px","margin-top":"10px","margin-bottom":"10px"}},{default:o(()=>[g("b",null,h(e.label),1)]),_:2},1024)):B("",!0),Le,Fe])):e.type==b(p).LABEL?(r(),E("div",Ne,[De,d(W,{style:{"margin-left":"8px","margin-top":"10px","margin-bottom":"10px"}},{default:o(()=>[U(h(l.$t(`settings.${e.key}`,e.label)),1)]),_:2},1024)])):e.type==b(p).ACTION||e.action&&!e.value?(r(),E("div",Oe,[ze,d(I,{class:"actionbutton",disabled:!!e.depends_on&&!v(e.depends_on),onClick:t=>{D(e.action||e.key),e.value=e.action?null:e.key}},{default:o(()=>[U(h(l.$t(`settings.${e.action||e.key}`,e.action_label||e.label)),1)]),_:2},1032,["disabled","onClick"])])):e.type==b(p).BOOLEAN?(r(),V(Te,{key:3,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:l.$t(`settings.${e.key}`,e.label),color:"primary",disabled:!!e.depends_on&&!v(e.depends_on)},null,8,["modelValue","onUpdate:modelValue","label","disabled"])):(e.type==b(p).INTEGER||e.type==b(p).FLOAT)&&e.range&&e.range.length==2?(r(),V(ue,{key:4,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,disabled:!!e.depends_on&&!v(e.depends_on),label:l.$t(`settings.${e.key}`,e.label),required:e.required,class:"align-center",min:e.range[0],max:e.range[1],"step-size":e.type==b(p).FLOAT?.5:1,"hide-details":"",style:{"margin-top":"10px","margin-bottom":"25px"},color:"primary"},{append:o(()=>[d(L,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,"hide-details":"","single-line":"",density:"compact",type:"number",style:{width:"70px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","label","required","min","max","step-size"])):e.type==b(p).SECURE_STRING?(r(),V(L,{key:5,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:l.$t(`settings.${e.key}`,e.label),required:e.required,disabled:!!e.depends_on&&!v(e.depends_on),rules:[t=>!(!t&&e.required)||l.$t("settings.invalid_input")],type:f.value?"text":"password","append-inner-icon":f.value?"mdi-eye":typeof e.value=="string"&&e.value.includes(b(J))?"":"mdi-eye-off",variant:"outlined",clearable:"",readonly:!!e.action,"onClick:appendInner":a[0]||(a[0]=t=>f.value=!f.value)},null,8,["modelValue","onUpdate:modelValue","label","required","disabled","rules","type","append-inner-icon","readonly"])):e.options&&e.options.length>0?(r(),V(qe,{key:6,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,chips:e.multi_value,clearable:e.multi_value,multiple:e.multi_value,items:e.options,disabled:!!e.depends_on&&!v(e.depends_on),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||l.$t("settings.invalid_input")],variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","chips","clearable","multiple","items","disabled","label","required","rules"])):e.type==b(p).INTEGER||e.type==b(p).FLOAT?(r(),V(L,{key:7,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:(x=e.default_value)==null?void 0:x.toString(),disabled:!!e.depends_on&&!v(e.depends_on),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||l.$t("settings.invalid_input")],variant:"outlined",clearable:!e.required,type:"number"},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","clearable"])):(r(),V(L,{key:8,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:(A=e.default_value)==null?void 0:A.toString(),clearable:"",disabled:!!e.depends_on&&!v(e.depends_on),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||l.$t("settings.invalid_input")],variant:"outlined",readonly:!!e.action},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","readonly"]))]),e.description||e.help_link?(r(),E("div",Ge,[d(I,{icon:"mdi-help-box",variant:"plain",class:"helpicon",size:"x-large",onClick:t=>e.description?i.value=e:O(e.help_link)},null,8,["onClick"])])):B("",!0)])}),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),He,d(I,{block:"",color:"primary",onClick:N,disabled:!b(R)},{default:o(()=>[U(h(l.$t("settings.save")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])):B("",!0),je,d(I,{block:"",onClick:a[3]||(a[3]=n=>l.$router.back())},{default:o(()=>[U(h(l.$t("close")),1)]),_:1}),d(we,{"model-value":i.value!==void 0,width:"auto","onUpdate:modelValue":a[6]||(a[6]=n=>i.value=void 0)},{default:o(()=>[d(Ce,null,{default:o(()=>[d(fe,null,{default:o(()=>{var n;return[U(h((n=i.value)==null?void 0:n.description),1)]}),_:1}),d($e,null,{default:o(()=>{var n;return[(n=i.value)!=null&&n.help_link?(r(),V(I,{key:0,onClick:a[4]||(a[4]=e=>O(i.value.help_link))},{default:o(()=>[U(h(l.$t("read_more")),1)]),_:1})):B("",!0),d(Ee),d(I,{color:"primary",onClick:a[5]||(a[5]=e=>i.value=void 0)},{default:o(()=>[U(h(l.$t("close")),1)]),_:1})]}),_:1})]),_:1})]),_:1},8,["model-value"])]))}});export{Te as V,tl as _};
