(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8867],{59739:function(e,n,t){"use strict";var r=t(56669);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,o,c){if(c!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:i};return t.PropTypes=t,t}},47329:function(e,n,t){e.exports=t(59739)()},56669:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1210:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(82394),i=t(21831),o=t(82684),c=t(47999),a=t(49894),s=t(93461),u=t(57384),l=t(12344),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var h=o.forwardRef(p),m=t(32063),b=t(15270),x=t(82531),g=t(66166),v=t(3055),y=t(49125),O=t(91427),j=t(24141);function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,Z=e.afterWidthOverride,w=e.before,E=e.beforeWidth,P=e.breadcrumbs,A=e.children,_=e.errors,R=e.headerMenuItems,T=e.navigationItems,C=e.setErrors,k=e.subheaderChildren,D=e.title,N=e.uuid,I=(0,j.i)().width,H="dashboard_after_width_".concat(N),M="dashboard_before_width_".concat(N),L=(0,o.useRef)(null),z=(0,o.useState)(Z?p:(0,O.U2)(H,p)),F=z[0],U=z[1],X=(0,o.useState)(!1),W=X[0],B=X[1],Y=(0,o.useState)(w?Math.max((0,O.U2)(M,E),13*y.iI):null),Q=Y[0],G=Y[1],q=(0,o.useState)(!1),V=q[0],J=q[1],$=(0,o.useState)(null)[1],K=x.ZP.projects.list({},{revalidateOnFocus:!1}).data,ee=null===K||void 0===K?void 0:K.projects,ne=[];P?ne.push.apply(ne,(0,i.Z)(P)):(null===ee||void 0===ee?void 0:ee.length)>=1&&ne.push.apply(ne,[{label:function(){var e;return null===(e=ee[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return D}}]),(0,o.useEffect)((function(){null===L||void 0===L||!L.current||W||V||null===$||void 0===$||$(L.current.getBoundingClientRect().width)}),[W,F,V,Q,L,$,I]),(0,o.useEffect)((function(){W||(0,O.t8)(H,F)}),[r,W,F,H]),(0,o.useEffect)((function(){V||(0,O.t8)(M,Q)}),[V,Q,M]);var te=(0,g.Z)(p);return(0,o.useEffect)((function(){Z&&te!==p&&U(p)}),[Z,p,te]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Z,{title:D}),(0,f.jsx)(l.Z,{breadcrumbs:ne,menuItems:R,project:null===ee||void 0===ee?void 0:ee[0],version:null===ee||void 0===ee||null===(n=ee[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===T||void 0===T?void 0:T.length)&&(0,f.jsx)(d.lm,{children:(0,f.jsx)(b.Z,{navigationItems:T})}),(0,f.jsx)(s.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(m.Z,{after:t,afterHeightOffset:v.Mz,afterHidden:r,afterMousedownActive:W,afterWidth:F,before:w,beforeHeightOffset:v.Mz,beforeMousedownActive:V,beforeWidth:d.k1+(w?Q:0),hideAfterCompletely:!0,leftOffset:w?d.k1:null,mainContainerRef:L,setAfterMousedownActive:B,setAfterWidth:U,setBeforeMousedownActive:J,setBeforeWidth:G,children:[k&&(0,f.jsx)(h,{children:k}),A]})})]}),_&&(0,f.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===C||void 0===C?void 0:C(null)},children:(0,f.jsx)(a.Z,S(S({},_),{},{onClose:function(){return null===C||void 0===C?void 0:C(null)}}))})]})}},65597:function(e,n,t){"use strict";t.d(n,{f:function(){return a}});var r=t(9518),i=t(23831),o=t(49125),c=t(73942),a=r.default.div.withConfig({displayName:"Tablestyle__PopupContainerStyle",componentId:"sc-8ammqd-0"})(["position:absolute;max-height:","px;z-index:10;border-radius:","px;padding:","px;"," "," "," ",""],58*o.iI,c.TR,2*o.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||i.Z.shadow).popup,";\n    background-color: ").concat((e.theme.interactive||i.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.leftOffset&&"\n    left: ".concat(e.leftOffset,"px;\n  ")}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}))},86422:function(e,n,t){"use strict";t.d(n,{$W:function(){return p},DA:function(){return f},HX:function(){return b},J8:function(){return m},L8:function(){return c},Lq:function(){return l},Qj:function(){return x},Ut:function(){return O},V4:function(){return y},VZ:function(){return h},dO:function(){return d},f2:function(){return v},iZ:function(){return g},t6:function(){return a},tf:function(){return u}});var r,i,o,c,a,s=t(82394);!function(e){e.DYNAMIC="dynamic",e.DYNAMIC_CHILD="dynamic_child",e.REDUCE_OUTPUT="reduce_output"}(c||(c={})),function(e){e.PYTHON="python",e.R="r",e.SQL="sql",e.YAML="yaml"}(a||(a={}));var u,l,d=(r={},(0,s.Z)(r,a.PYTHON,"PY"),(0,s.Z)(r,a.R,"R"),(0,s.Z)(r,a.SQL,"SQL"),(0,s.Z)(r,a.YAML,"YAML"),r);!function(e){e.CHART="chart",e.CUSTOM="custom",e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.DBT="dbt",e.EXTENSION="extension",e.SCRATCHPAD="scratchpad",e.SENSOR="sensor",e.TRANSFORMER="transformer"}(u||(u={})),function(e){e.BLUE="blue",e.GREY="grey",e.PINK="pink",e.PURPLE="purple",e.TEAL="teal",e.YELLOW="yellow"}(l||(l={}));var f,p=[u.CHART,u.CUSTOM,u.DATA_EXPORTER,u.DATA_LOADER,u.SCRATCHPAD,u.SENSOR,u.TRANSFORMER],h=[u.DATA_EXPORTER,u.DATA_LOADER],m=[u.DATA_EXPORTER,u.DATA_LOADER,u.TRANSFORMER],b=[u.DATA_EXPORTER,u.DATA_LOADER,u.DBT,u.TRANSFORMER],x=[u.CHART,u.SCRATCHPAD,u.SENSOR],g=[u.EXTENSION,u.SCRATCHPAD];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(f||(f={}));var v=[u.CUSTOM,u.DATA_EXPORTER,u.DATA_LOADER,u.TRANSFORMER],y=(i={},(0,s.Z)(i,u.CUSTOM,"Custom"),(0,s.Z)(i,u.DATA_EXPORTER,"Data exporter"),(0,s.Z)(i,u.DATA_LOADER,"Data loader"),(0,s.Z)(i,u.EXTENSION,"Extension"),(0,s.Z)(i,u.SCRATCHPAD,"Scratchpad"),(0,s.Z)(i,u.SENSOR,"Sensor"),(0,s.Z)(i,u.TRANSFORMER,"Transformer"),i),O=[u.DATA_LOADER,u.TRANSFORMER,u.DATA_EXPORTER,u.SENSOR];o={},(0,s.Z)(o,u.DATA_EXPORTER,"DE"),(0,s.Z)(o,u.DATA_LOADER,"DL"),(0,s.Z)(o,u.SCRATCHPAD,"SP"),(0,s.Z)(o,u.SENSOR,"SR"),(0,s.Z)(o,u.TRANSFORMER,"TF")},87372:function(e,n,t){"use strict";var r,i,o,c,a,s,u,l,d=t(82394),f=t(26304),p=t(26653),h=t(9518),m=t(33591),b=t(23831),x=t(2005),g=t(31012),v=t(19711),y=t(49125),O=t(86673),j=t(28598),Z=["children","condensed","inline","level","marketing","spacingBelow"];function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=(0,h.css)([""," margin:0;"," "," "," "," "," "," "," "," "," "," "," "," ",""],v.IH,(function(e){return e.color&&"\n    color: ".concat(e.color,"\n  ")}),(function(e){return e.yellow&&"\n    color: ".concat((e.theme.accent||b.Z.accent).yellow,";\n  ")}),(function(e){return e.center&&"\n    text-align: center;\n  "}),(function(e){return!e.monospace&&0===Number(e.weightStyle)&&"\n    font-family: ".concat(x.iI,";\n  ")}),(function(e){return!e.monospace&&1===Number(e.weightStyle)&&"\n    font-family: ".concat(x.LX,";\n  ")}),(function(e){return!e.monospace&&2===Number(e.weightStyle)&&"\n    font-family: ".concat(x.LX,";\n  ")}),(function(e){return!e.monospace&&3===Number(e.weightStyle)&&"\n    font-family: ".concat(x.ry,";\n  ")}),(function(e){return!e.monospace&&4===Number(e.weightStyle)&&"\n    font-family: ".concat(x.YC,";\n  ")}),(function(e){return!e.monospace&&5===Number(e.weightStyle)&&"\n    font-family: ".concat(x.nF,";\n  ")}),(function(e){return!e.monospace&&(6===Number(e.weightStyle)||e.bold)&&"\n    font-family: ".concat(x.nF,";\n  ")}),(function(e){return!e.monospace&&7===Number(e.weightStyle)&&"\n    font-family: ".concat(x.nF,";\n  ")}),(function(e){return!e.monospace&&8===Number(e.weightStyle)&&"\n    font-family: ".concat(x.nF,";\n  ")}),(function(e){return e.lineHeightAuto&&"\n    line-height: normal !important;\n  "})),P=h.default.div.withConfig({displayName:"Headline__HeadlineContainerStyle",componentId:"sc-12jzt2e-0"})(["",""],(function(e){return"\n    color: ".concat((e.theme.content||b.Z.content).active,";\n  ")})),A=h.default.h1.withConfig({displayName:"Headline__H1HeroStyle",componentId:"sc-12jzt2e-1"})([""," font-size:42px;line-height:56px;"," "," ",""],E,m.media.md(r||(r=(0,p.Z)(["\n    ","\n  "])),g.aQ),m.media.lg(i||(i=(0,p.Z)(["\n    ","\n  "])),g.aQ),m.media.xl(o||(o=(0,p.Z)(["\n    ","\n  "])),g.aQ)),_=h.default.h1.withConfig({displayName:"Headline__H1Style",componentId:"sc-12jzt2e-2"})([""," ",""],E,g.MJ),R=h.default.h1.withConfig({displayName:"Headline__H1MarketingStyle",componentId:"sc-12jzt2e-3"})([""," "," "," "," "," ",""],E,m.media.xs(c||(c=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*y.iI,7*y.iI),m.media.sm(a||(a=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*y.iI,7*y.iI),m.media.md(s||(s=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*y.iI,7*y.iI),m.media.lg(u||(u=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*y.iI,7*y.iI),m.media.xl(l||(l=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*y.iI,7*y.iI)),T=h.default.h2.withConfig({displayName:"Headline__H2Style",componentId:"sc-12jzt2e-4"})([""," ",""],E,g.BL),C=h.default.h3.withConfig({displayName:"Headline__H3Style",componentId:"sc-12jzt2e-5"})([""," font-size:24px;line-height:32px;"],E),k=h.default.h4.withConfig({displayName:"Headline__H4Style",componentId:"sc-12jzt2e-6"})([""," font-size:20px;line-height:28px;"],E),D=h.default.h5.withConfig({displayName:"Headline__H5Style",componentId:"sc-12jzt2e-7"})([""," font-size:18px;line-height:26px;"],E),N=h.default.span.withConfig({displayName:"Headline__SpanStyle",componentId:"sc-12jzt2e-8"})([""," "," "," "," ",""],E,(function(e){return 1===e.level&&"\n    ".concat(g.MJ,"\n  ")}),(function(e){return 2===e.level&&"\n    ".concat(g.BL,"\n  ")}),(function(e){return 3===e.level&&"\n    font-size: 24px;\n    line-height: 32px;\n  "}),(function(e){return 4===e.level&&"\n    font-size: 20px;\n    line-height: 28px;\n  "})),I=function(e){var n,t=e.children,r=e.condensed,i=e.inline,o=e.level,c=e.marketing,a=e.spacingBelow,s=(0,f.Z)(e,Z);i?n=N:0===Number(o)?n=A:1===Number(o)?n=c?R:_:2===Number(o)?n=T:3===Number(o)?n=C:4===Number(o)?n=k:5===Number(o)&&(n=D);var u=(0,j.jsxs)(n,w(w({},s),{},{level:o,children:[a&&(0,j.jsx)(O.Z,{mb:r?2:3,children:t}),!a&&t]}));return i?u:(0,j.jsx)(P,{children:u})};I.defaultProps={level:3,weightStyle:6},n.Z=I},70902:function(e,n,t){"use strict";var r=t(82394),i=t(26304),o=t(82684),c=t(9518),a=t(69898),s=t(23831),u=t(28598),l=["checked","disabled","onCheck"];function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=c.default.label.withConfig({displayName:"ToggleSwitch__ToggleSwitchStyle",componentId:"sc-179r5zs-0"})([""," position:relative;display:inline-block;width:","px;min-width:","px;height:",'px;& input[type="checkbox"]{display:none;}& span{position:absolute;cursor:',";background-color:",";border-radius:13px;",';top:0;right:0;bottom:0;left:0;transition:background-color 0.2s ease;}& span::before{position:absolute;content:"";left:2px;top:2px;width:22px;height:22px;background-color:#787A85;border-radius:50%;transition:transform 0.3s ease;}& input[type="checkbox"]:checked + span::before{transform:translateX(20px);}',""],a.p,46,46,26,(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.disabled?s.Z.monotone.white:s.Z.monotone.black}),(function(e){return e.disabled&&"border: 1px solid ".concat(s.Z.monotone.grey200)}),(function(e){return!e.disabled&&'\n    & input[type="checkbox"]:checked + span {\n      background-color: #6AA1E0;\n    }\n\n    & input[type="checkbox"]:checked + span::before {\n      background-color: '.concat(s.Z.monotone.white,";\n    }\n  ")})),h=function(e,n){var t=e.checked,r=e.disabled,o=e.onCheck,c=(0,i.Z)(e,l);return(0,u.jsx)(a.Z,f(f({},c),{},{disabled:r,input:(0,u.jsxs)(p,f(f({},c),{},{disabled:r,noBackground:!0,noBorder:!0,children:[(0,u.jsx)("input",{checked:t,type:"checkbox"}),(0,u.jsx)("span",{onClick:r?null:function(){return null===o||void 0===o?void 0:o((function(e){return!e}))}})]})),noBackground:!0,ref:n}))};n.Z=o.forwardRef(h)},48438:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var r=t(77837),i=t(75582),o=t(38860),c=t.n(o),a=t(82684),s=t(83455),u=t(60328),l=t(47999),d=t(57722),f=t(67971),p=t(87372),h=t(11135),m=t(86673),b=t(58180),x=t(19711),g=t(82944),v=t(70902),y=t(82531),O=t(10503),j=t(86422),Z=t(73899),S=t(99994),w=t(85307),E=t(49125),P=t(96510),A=t(90211),_=t(28598);var R=function(e){var n=e.fetchInstances,t=e.instanceType,r=(0,a.useState)(),o=r[0],c=r[1],u=(0,a.useState)(),l=u[0],R=u[1],T=(0,a.useState)(),C=T[0],k=T[1],D=(0,a.useState)(null),N=D[0],I=D[1],H=(0,a.useState)(),M=H[0],L=H[1],z=(0,a.useState)(),F=z[0],U=z[1],X=(0,s.Db)(y.ZP.instances.clusters.useCreate(t),{onSuccess:function(e){return(0,P.wD)(e,{callback:function(e){e.success?(n(),c(!1)):R(e.error_message)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),W=(0,i.Z)(X,2),B=W[0],Y=W[1].isLoading,Q=[[(0,_.jsx)(x.ZP,{bold:!0,color:Z.cM,children:"Instance name"}),(0,_.jsx)(g.Z,{label:"ecs"===t?"Spaces will be replaced by underscores":"Spaces will be replaced by hyphens",monospace:!0,onChange:function(e){e.preventDefault(),L(e.target.value)},placeholder:"Name your new instance",value:M})]];return"k8s"===t&&Q.push([(0,_.jsx)(x.ZP,{bold:!0,color:Z.cM,children:"Service account name (optional)"}),(0,_.jsx)(g.Z,{label:"Name of service account to be attached to stateful set",monospace:!0,onChange:function(e){e.preventDefault(),U(e.target.value)},placeholder:"Service account name",value:F})]),(0,_.jsx)(_.Fragment,{children:o?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(p.Z,{default:!0,level:5,monospace:!0,children:"Configure new instance"}),(0,_.jsx)(b.Z,{columnFlex:[null,3],rows:Q}),"k8s"===t&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.Z,{mt:1,children:(0,_.jsxs)(f.Z,{alignItems:"center",children:[(0,_.jsx)(x.ZP,{default:!0,monospace:!0,children:"Configure container"}),(0,_.jsx)(m.Z,{ml:1}),(0,_.jsx)(v.Z,{checked:C,onCheck:function(){return k((function(e){return!e}))}})]})}),C&&(0,_.jsx)(m.Z,{mt:1,children:(0,_.jsx)(w.$W,{children:(0,_.jsx)(d.Z,{autoHeight:!0,language:j.t6.YAML,onChange:function(e){I(e)},tabSize:2,value:N||void 0,width:"100%"})})})]}),Y&&(0,_.jsx)(m.Z,{mt:1,children:(0,_.jsx)(x.ZP,{small:!0,warning:!0,children:"This may take up to a few minutes... Once the service is created, it may take another 5-10 minutes for the service to be accessible."})}),!Y&&l&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.Z,{mt:1,children:(0,_.jsx)(x.ZP,{small:!0,danger:!0,children:"Failed to create instance, see error below."})}),(0,_.jsx)(m.Z,{mt:1,children:(0,_.jsx)(x.ZP,{small:!0,danger:!0,children:l})})]}),(0,_.jsx)(m.Z,{my:2,children:(0,_.jsxs)(f.Z,{children:[(0,_.jsx)(h.ZP,{background:Z.a$,bold:!0,inline:!0,loading:Y,onClick:function(){return B({instance:{name:(e=M,"ecs"===t?(0,A.We)(e,"_"):(0,A.We)(e,"-")),service_account_name:F,container_config:C&&N}});var e},uuid:"EnvironmentListPage/new",children:"Create"}),(0,_.jsx)(m.Z,{ml:1}),(0,_.jsx)(h.ZP,{bold:!0,inline:!0,onClick:function(){return c(!1)},uuid:"EnvironmentListPage/cancel",children:"Cancel"})]})})]}):(0,_.jsx)(h.ZP,{background:S.eW,beforeElement:(0,_.jsx)(O.mm,{size:2.5*E.iI}),bold:!0,inline:!0,onClick:function(){L((0,A.Y6)()),c(!0)},uuid:"EnvironmentListPage/new_instance",children:"Create new instance"})})},T=t(1210),C=t(62084),k=t(41788),D=t(73942),N=t(65597),I=t(72454);function H(e){var n=e.fetchInstances,t=e.instance,r=e.instanceType,o=(0,a.useRef)(null),c=(0,a.useState)(),d=c[0],p=c[1],h=(0,a.useState)(),b=h[0],g=h[1],v=t.name,j=t.task_arn,Z={};j&&(Z.task_arn=j);var S=(0,s.Db)(y.ZP.instances.clusters.useUpdate(r,v),{onSuccess:function(e){return(0,P.wD)(e,{callback:function(){n(),p(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),w=(0,i.Z)(S,1)[0],A=(0,s.Db)(y.ZP.instances.clusters.useDelete(r,v,Z),{onSuccess:function(e){return(0,P.wD)(e,{callback:function(){n(),p(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),R=(0,i.Z)(A,1)[0],T=(0,a.useMemo)((function(){var e=t.status,n=[{label:function(){return(0,_.jsx)(x.ZP,{children:"Delete instance"})},onClick:function(){return g(!0)},uuid:"delete_instance"}];return"STOPPED"===e?n.unshift({label:function(){return(0,_.jsx)(x.ZP,{children:"Resume instance"})},onClick:function(){return w({instance:{action:"resume",name:t.name,task_arn:t.task_arn}})},uuid:"resume_instance"}):"RUNNING"===e&&n.unshift({label:function(){return(0,_.jsx)(x.ZP,{children:"Stop instance"})},onClick:function(){return w({instance:{action:"stop",name:t.name,task_arn:t.task_arn}})},uuid:"stop_instance"}),n}),[t]);return(0,_.jsx)(_.Fragment,{children:"ecs"===r&&(0,_.jsxs)("div",{ref:o,style:{position:"relative",zIndex:"1"},children:[(0,_.jsx)(u.Z,{iconOnly:!0,onClick:function(){return p(!d)},children:(0,_.jsx)(O.mH,{size:2*E.iI})}),(0,_.jsx)(l.Z,{disableEscape:!0,onClickOutside:function(){p(!1),g(!1)},open:d,children:b?(0,_.jsxs)(N.f,{leftOffset:30*-E.iI,topOffset:3*-E.iI,width:30*E.iI,children:[(0,_.jsx)(x.ZP,{children:"Are you sure you want to delete"}),(0,_.jsx)(x.ZP,{children:"this instance? You may not be"}),(0,_.jsx)(x.ZP,{children:"able to recover your data."}),(0,_.jsx)(m.Z,{mt:1}),(0,_.jsxs)(f.Z,{children:[(0,_.jsx)(u.Z,{danger:!0,onClick:R,children:"Confirm"}),(0,_.jsx)(m.Z,{ml:1}),(0,_.jsx)(u.Z,{default:!0,onClick:function(){return g(!1)},children:"Cancel"})]})]}):(0,_.jsx)(C.Z,{items:T,left:25*-E.iI,open:d,parentRef:o,topOffset:3*-E.iI,uuid:"Manage/more_actions",width:25*E.iI})})]})})}function M(){var e,n=(0,a.useState)(),t=(n[0],n[1],y.ZP.status.list().data),r=(null===t||void 0===t||null===(e=t.status)||void 0===e?void 0:e.instance_type)||"ecs",i=y.ZP.instances.clusters.list(r,{},{refreshInterval:3e3,revalidateOnFocus:!0}),o=i.data,c=i.mutate,s=(0,a.useMemo)((function(){var e;return null===o||void 0===o||null===(e=o.instances)||void 0===e?void 0:e.filter((function(e){return e.name}))}),[o]);return(0,_.jsx)(T.Z,{afterWidth:I.k1,beforeWidth:I.k1,breadcrumbs:[{bold:!0,label:function(){return"Manage (".concat(r,")")}}],navigationItems:[],subheaderChildren:(0,_.jsx)(R,{fetchInstances:c,instanceType:r}),title:"Manage",uuid:"Manage/index",children:(0,_.jsx)(b.Z,{columns:[{uuid:"Status"},{uuid:"Instance Name"},{uuid:"Type"},{uuid:"Public IP address"},{uuid:"Open"},{label:function(){return""},uuid:"Actions"}],columnFlex:[2,4,2,3,1,null],rows:null===s||void 0===s?void 0:s.map((function(e){var n=e.ip,t=e.name,i=e.status,o=e.type,a="http://".concat(n);return"ecs"===r&&(a="http://".concat(n,":6789")),[(0,_.jsx)(u.Z,{borderRadius:D.D7,danger:"STOPPED"===i,default:"PROVISIONING"===i,notClickable:!0,padding:"6px",primary:"RUNNING"===i,warning:"PENDING"===i,children:(0,A.vg)(i)}),(0,_.jsx)(x.ZP,{children:t}),(0,_.jsx)(x.ZP,{children:(0,A.vg)(o)}),(0,_.jsx)(x.ZP,{children:n}),(0,_.jsx)(u.Z,{iconOnly:!0,onClick:function(){return window.open(a)},children:(0,_.jsx)(O.M0,{size:2*E.iI})}),(0,_.jsx)(H,{fetchInstances:c,instance:e,instanceType:r})]}))})})}M.getInitialProps=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var L=(0,k.Z)(M)},13157:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return t(48438)}])}},function(e){e.O(0,[3850,5716,8789,2344,4506,6166,8180,6195,9774,2888,179],(function(){return n=13157,e(e.s=n);var n}));var n=e.O();_N_E=n}]);