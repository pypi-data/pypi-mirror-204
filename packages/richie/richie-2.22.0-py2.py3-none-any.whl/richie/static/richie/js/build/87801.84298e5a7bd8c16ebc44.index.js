(self.webpackChunkrichie_education=self.webpackChunkrichie_education||[]).push([[87801],{61834:function(t,e,r){"use strict";r.d(e,{z:function(){return a}}),r(80044),r(31807),r(26364),r(16543),r(33142),r(86632),r(10853),r(80174),r(3973),r(19701),r(80238),r(6208),r(12938),r(26425),r(61928),r(54883),r(45007),r(68995),r(85005);var n=r(89526),i=r(67557);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var s=["disabled","className"];function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=(0,n.forwardRef)((function(t,e){var r=t.disabled,n=void 0!==r&&r,o=t.className,u=void 0===o?"":o,c=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(t,s),a=["button"];c.color&&a.push("button--"+c.color),c.size&&a.push("button--"+c.size);var f={className:[a.join(" "),u].join(" "),disabled:n};return c.href&&!n?(0,i.jsx)("a",l(l(l({},f),c),{},{ref:e,children:c.children})):(0,i.jsx)("button",l(l(l({},f),c),{},{ref:e,children:c.children}))}))},38954:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return w}}),r(16543),r(33142),r(26364),r(86632),r(10853),r(80174),r(3973),r(80044),r(19701),r(80238),r(6208),r(12938),r(26425),r(61928),r(54883),r(45007),r(68995);var n=r(89526),i=r(34323),o=r(61834),s=r(38136),u=r(71432),l=r(86093),c=r(62104);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={queryKey:["wishlist_course"],apiInterface:function(){return(0,c.c)().user.wishlist},session:!0,messages:(0,i.vU)({errorGet:{id:"hooks.useWishlist.errorGet",defaultMessage:[{type:0,value:"An error occurred while fetching wishlist. Please retry later."}]},errorNotFound:{id:"hooks.useWishlist.errorNotFound",defaultMessage:[{type:0,value:"Cannot find the wishlist."}]},errorDelete:{id:"hooks.useWishlist.errorDelete",defaultMessage:[{type:0,value:"An error occurred when removing this course from your wishlist. Please retry later."}]},errorCreate:{id:"hooks.useWishlist.errorCreate",defaultMessage:[{type:0,value:"An error occurred when adding this course to your wishlist. Please retry later."}]}})},p=((0,l.Wf)(d),r(67557));function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g=(0,i.vU)({labelAdd:{id:"components.CourseAddToWishlist.labelAdd",defaultMessage:[{type:0,value:"Notify me"}]},labelRemove:{id:"components.CourseAddToWishlist.labelRemove",defaultMessage:[{type:0,value:"Do not notify me anymore"}]},logMe:{id:"components.CourseAddToWishlist.logMe",defaultMessage:[{type:0,value:"Log in to be notified"}]},loading:{id:"components.CourseAddToWishlist.loading",defaultMessage:[{type:0,value:"Loading your wishlist..."}]}}),j=function(t){return t.INITIALIZING="initializing",t.LOADING="loading",t.IDLE="idle",t.ERROR="error",t}(j||{}),w=function(t){var e,r=t.courseCode,c=(0,u.k)(),a=c.user,f=c.login,b=(e={course_code:r},(0,l.AR)(h(h({},d),{},{filters:e,queryOptions:undefined}))),y=(0,n.useMemo)((function(){return b.states.fetching?j.LOADING:b.states.error?j.ERROR:j.IDLE}),[b.states.fetching,b.states.error]),m=(0,n.useMemo)((function(){var t;return(null===(t=b.items)||void 0===t?void 0:t.length)>0}),[b.items]);return a&&!b.states.isFetched?(0,p.jsx)(s.$,{"aria-labelledby":"loading-wishlist",children:(0,p.jsx)("span",{id:"loading-wishlist",children:(0,p.jsx)(i._H,v({},g.loading))})}):a?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.z,v(v({color:"primary",onClick:m?function(){return b.methods.delete(b.items[0].id)}:function(){return b.methods.create({course:r})},className:"user-wishlist-button",disabled:y===j.LOADING},y===j.ERROR&&{"aria-describedby":"user-wishlist-error"}),{},{children:(0,p.jsx)(i._H,v({},g[m?"labelRemove":"labelAdd"]))})),b.states.error&&(0,p.jsx)("p",{className:"user-wishlist-button__error",id:"user-wishlist-error",tabIndex:-1,children:b.states.error})]}):(0,p.jsx)(o.z,{color:"primary",onClick:f,className:"user-wishlist-button",disabled:y===j.LOADING,children:(0,p.jsx)(i._H,v({},g.logMe))})}},19457:function(t,e,r){var n=r(19882),i=r(8765).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},64469:function(t,e,r){"use strict";r.d(e,{D:function(){return h}});var n=r(89526),i=r(464),o=r(32161),s=r(89886),u=r(30081),l=r(33989);class c extends l.l{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const r=this.options;this.options=this.client.defaultMutationOptions(t),(0,o.VS)(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}onUnsubscribe(){var t;this.listeners.length||null==(t=this.currentMutation)||t.removeObserver(this)}onMutationUpdate(t){this.updateResult();const e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:(0,s.R)(),e={...t,isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=e}notify(t){u.V.batch((()=>{var e,r,n,i;if(this.mutateOptions&&this.hasListeners())if(t.onSuccess)null==(e=(r=this.mutateOptions).onSuccess)||e.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(i=this.mutateOptions).onSettled)||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(t.onError){var o,s,u,l;null==(o=(s=this.mutateOptions).onError)||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(u=(l=this.mutateOptions).onSettled)||u.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}t.listeners&&this.listeners.forEach((t=>{t(this.currentResult)}))}))}}var a=r(85945),f=r(24798);function h(t,e,r){const s=(0,o.lV)(t,e,r),l=(0,a.NL)({context:s.context}),[h]=n.useState((()=>new c(l,s)));n.useEffect((()=>{h.setOptions(s)}),[h,s]);const d=(0,i.$)(n.useCallback((t=>h.subscribe(u.V.batchCalls(t))),[h]),(()=>h.getCurrentResult()),(()=>h.getCurrentResult())),p=n.useCallback(((t,e)=>{h.mutate(t,e).catch(b)}),[h]);if(d.error&&(0,f.L)(h.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:p,mutateAsync:d.mutate}}function b(){}}}]);
//# sourceMappingURL=87801.84298e5a7bd8c16ebc44.index.js.map