Metadata-Version: 2.1
Name: fiduswriter-gitrepo-export
Version: 3.11.4
Summary: A Fidus Writer plugin to allow publishing of books to a Gitlab/Github repository.
Author-email: Johannes Wilm <johannes@fiduswriter.org>
License: AGPL-3.0-or-later
Project-URL: repository, https://www.github.org/fiduswriter/fiduswriter-gitrepo-export
Classifier: Environment :: Web Environment
Classifier: Framework :: Django
Classifier: Framework :: Django :: 4.1
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: GNU Affero General Public License v3
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Topic :: Internet :: WWW/HTTP
Classifier: Topic :: Internet :: WWW/HTTP :: Dynamic Content
Description-Content-Type: text/markdown
License-File: LICENSE

fiduswriter-gitrepo-export
==========================

A plugin to export books to GitLab/GitHub.

To install:

1. Make sure you have installed the `fiduswriter-books` plugin and you have updated both `fiduswriter` and `fiduswriter-books` to the latest patch release.

2. Install this plugin (for example by running ``pip install fiduswriter-gitrepo-export``).

3. In your configuration.py file, add "gitrepo_export" and "allauth.socialaccount.providers.github" and/or "allauth.socialaccount.providers.gitlab" to ``INSTALLED_APPS``.

4a. Set up GitHub as one of the connected login options. See instructions here: https://django-allauth.readthedocs.io/en/latest/providers.html#github . The callback URL will be in the format https://DOMAIN.NAME/api/github/github/login/callback/

5a. In your configuration.py file, make sure to add repo rights for the github connector like this::

```python
SOCIALACCOUNT_PROVIDERS = {
    'github': {
        'SCOPE': [
            'repo',
            'user:email',
        ],
    }
}
```

4b. Set up GitLab as one of the connected login options. See instructions here: https://django-allauth.readthedocs.io/en/latest/providers.html#gitlab . The callback URL will be in the format https://DOMAIN.NAME/api/gitlab/gitlab/login/callback/

5b. In your configuration.py file, make sure to add repo rights for the gitlab connector like this::

```python
SOCIALACCOUNT_PROVIDERS = {
    'gitlab': {
        'SCOPE': [
            'api',
        ],
    }
}
```

To use:

1. Login to your Fidus Writer instance using GitHub/GitLab, or login with a regular account and connect a Gitlab/Github account on the profile page (https://DOMAIN.NAME/user/profile/)

2. Go to the books overview page.

3. Enter a book to set the gitrepo settings for the book.

4. Select the book in the overview and export to gitrepo via the dropdown menu.
