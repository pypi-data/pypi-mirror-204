const sleep=require("sleep");const{JSDOM}=require("jsdom");location={href:"https://t.captcha.qq.com/template/drag_ele.html",referer:"https://xui.ptlogin2.qq.com/cgi-bin/xlogin"};mouse_events=[];dom=new JSDOM("");document={head:dom.window.document.head,body:dom.window.document.body,location:location,referrer:location['referer'],charset:'UTF-8',cookie:cookie,addEventListener:(e,f)=>{switch(e){case"mousemove":mouse_events.push(f);return}},createElement:(e,o)=>{var elm=new Proxy(dom.window.document.createElement(e,o),{get:(targ,name)=>{if(name=="innerHTML")return targ.inner_html();if(name=="outerHTML")return targ.outer_html();return targ[name]}});switch(e){case"canvas":elm.width=300;elm.height=150;elm.getContext=(e)=>{switch(e){case"2d":return elm.getContext("2d");case"experimental-webgl":return{getSupportedExtensions:()=>{return["WEBGL_debug_renderer_info"]},getExtension:(e)=>{switch(e){case"WEBGL_debug_renderer_info":return{UNMASKED_RENDERER_WEBGL:37446,UNMASKED_VENDOR_WEBGL:37445}}},getParameter:(e)=>{switch(e){case 37446:return"ANGLE (Google, Vulkan 1.3.0 (SwiftShader Device (Subzero) (0x0000C0DE)), SwiftShader driver)";case 37445:return"Google Inc. (Google)"}}}}};break;case"iframe":elm.contentWindow=window;case"div":elm.style='';break;case"style":elm.sheet=null;elm.remove=()=>{};break}return elm},getElementById:(e)=>{return dom.window.document.getElementById(e)},};screen={width:1408,availHeight:792,height:792,colorDepth:24,pixelDepth:24};navigator={appVersion:ua.substring(8),userAgent:ua,vendor:'Google Inc.',appName:"Netscape",cookieEnabled:true,languages:['zh-CN','en','en-GB','en-US'],platform:'Win32',hardwareConcurrency:8,};CSS={supports:(k,v)=>{if(k=='overscroll-behavior')return true;return false}};function _fake_rpc(servers){this.servers=servers;this.localDescription={sdp:"a=candidate:"+ip};this.createDataChannel=function(e){};this.createOffer=function(cb){}}RTCPeerConnection=new Proxy(_fake_rpc,{construct:(targ,args,newTarget)=>{return new Proxy(new targ(args[0],args[1]),{set:(targ,p,v)=>{if(p=="onicecandidate")v({candidate:{candidate:targ.localDescription.sdp}})}})}});window=new Proxy({name:xlogin,innerHeight:230,innerWidth:300,addEventListener:(e,f)=>{},getComputedStyle:dom.window.getComputedStyle,matchMedia:(e)=>{return{matches:""}}},{get:(targ,name)=>{if(targ[name]!==undefined)return targ[name];return global[name]}});function simulate_slide(xs,ys){mousemove=mouse_events[0];if(mousemove===undefined)return;mean=Math.round(1224/xs.length);for(i=0;i<xs.length;i++){mousemove({type:"mousemove",pageX:xs[i],pageY:ys[i]});sleep.msleep(mean)}};
