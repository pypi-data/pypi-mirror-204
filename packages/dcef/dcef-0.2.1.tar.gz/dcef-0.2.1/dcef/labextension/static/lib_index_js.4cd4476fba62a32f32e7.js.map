{"version":3,"file":"lib_index_js.4cd4476fba62a32f32e7.js","mappings":"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","sources":["webpack://dcf-widget/./css/widget.css","webpack://dcf-widget/./src/index.ts","webpack://dcf-widget/./src/version.ts","webpack://dcf-widget/./src/widget.ts","webpack://dcf-widget/./node_modules/react-dom/client.js","webpack://dcf-widget/./css/widget.css?a195"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".custom-widget {\\n  background-color: lightseagreen;\\n  padding: 0px 2px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Copyright (c) Paddy Mullen\n// Distributed under the terms of the Modified BSD License.\n\nexport * from './version';\nexport * from './widget';\n","// Copyright (c) Paddy Mullen\n// Distributed under the terms of the Modified BSD License.\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst data = require('../package.json');\n\n/**\n * The _model_module_version/_view_module_version this package implements.\n *\n * The html widget manager assumes that this is the same as the npm package\n * version number.\n */\nexport const MODULE_VERSION = data.version;\n\n/*\n * The current package name.\n */\nexport const MODULE_NAME = data.name;\n","// Copyright (c) Paddy Mullen\n// Distributed under the terms of the Modified BSD License.\n\nimport {\n  DOMWidgetModel,\n  DOMWidgetView,\n  ISerializers,\n} from '@jupyter-widgets/base';\n\n\nimport _ from 'lodash';\n\nimport {WidgetDCFCell, CommandConfigT, DFWhole, CommandConfigSetterT, Command  } from 'paddy-react-edit-list';\n\n\n\nimport { createRoot } from \"react-dom/client\";\n//import React, { Component, useState } from \"react\";\nimport React from \"react\";\n\nimport { MODULE_NAME, MODULE_VERSION } from './version';\n//import { tableDf } from './static';\n\n// Import the CSS\nimport '../css/widget.css';\n\n\n\nexport class DCFWidgetModel extends DOMWidgetModel {\n  defaults() {\n    return {\n      ...super.defaults(),\n      _model_name: DCFWidgetModel.model_name,\n      _model_module: DCFWidgetModel.model_module,\n      _model_module_version: DCFWidgetModel.model_module_version,\n      _view_name: DCFWidgetModel.view_name,\n      _view_module: DCFWidgetModel.view_module,\n      _view_module_version: DCFWidgetModel.view_module_version,\n      command_config: {} as CommandConfigT,\n      commands: [] as Command[]\n\n    };\n  }\n\n  static serializers: ISerializers = {\n    ...DOMWidgetModel.serializers,\n    // Add any extra serializers here\n  };\n\n  static model_name = 'DCFWidgetModel';\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n  static view_name = 'DCFWidgetView'; // Set to null if no view\n  static view_module = MODULE_NAME; // Set to null if no view\n  static view_module_version = MODULE_VERSION;\n}\n\nexport class DCFWidgetView extends DOMWidgetView {\n    render() {\n\tthis.el.classList.add('custom-widget');\n\tconst root = createRoot(this.el as HTMLElement)\n\t\n\tconst widgetModel = this.model\n\tconst widget = this\n\twidgetModel.on(\n\t    'change:command_config',\n\t    () => { widget.setCommandConfig(widgetModel.get('command_config'))},\n\t    this)\n\n\tconst widgetGetTransformRequester = (setDf:any) => {\n\t    widgetModel.on('change:transformed_df', () => {\n\t\tsetDf(widgetModel.get('transformed_df') as DFWhole)\n\t    }, this)\n\t    \n\t    const baseRequestTransform = (passedInstructions:any) => {\n\t\tconsole.log(\"transform passedInstructions\", passedInstructions)\n\t\twidgetModel.set('commands', passedInstructions)\n\t\twidgetModel.save_changes()\n\t    };\n\t    return baseRequestTransform;\n\t};\n\n\tconst widgetGetPyRequester = (setPyCode:any) => {\n\t    //_.delay(() => setPyCode(\"padddy\"), 200)\n\t    widgetModel.on('change:generated_py_code', () => {\n\t\tconst genCode = widgetModel.get('generated_py_code')\n\t\tconsole.log(\"gen code\", genCode)\n\t\tsetPyCode(genCode)\n\t\t//setPyCode(\"padddy\")\n\t    }, this)\n\t    \n\t    const unusedFunc = (passedInstructions:any) => {\n\t\tconsole.log(\"pyRequester passed instructions\", passedInstructions)\n\t    }\n\t    return unusedFunc\n\t};\n\n\t//this onChange gets called, the one inside of widgetGetPyRequester doesn't get called\n\twidgetModel.on('change:generated_py_code', () => {\n\t    const genCode = widgetModel.get('generated_py_code')\n\t    console.log(\"gen code2\", genCode)\n\t    //setPyCode(genCode)\n\t    //setPyCode(\"padddy\")\n\t}, this)\n\t// widgetModel.on('change:generated_py_error', () => {\n\t//     console.log(\"generated_py_error\", widgetModel.get('generated_py_error' as string))\n\t// }, this)\n\n\tconst commandConfig = widgetModel.get('command_config')\n\tconsole.log(\"widget, commandConfig\", commandConfig, widgetModel)\n\tconst plumbCommandConfig:CommandConfigSetterT = (setter) => {\n\t    widget.setCommandConfig = setter\n\t}\n\tconst reactEl = React.createElement(WidgetDCFCell, {\n\t    origDf:widgetModel.get('js_df'),\n\t    getTransformRequester:widgetGetTransformRequester,\n\t    commandConfig,\n\t    exposeCommandConfigSetter:plumbCommandConfig,\n\t    getPyRequester:widgetGetPyRequester\n\t    //getPyRequester:(foo:any) => {console.log(\"getPyRequester called with\", foo)}\n\t}, null)\n\troot.render(reactEl);\n    }\n\n    setCommandConfig = (conf:CommandConfigT) => {\n\tconsole.log(\"default setCommandConfig\")\n    }\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./widget.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":[],"sourceRoot":""}