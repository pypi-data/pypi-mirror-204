{"version":3,"sources":["QuillDarkMode.tsx","index.tsx"],"names":["withStreamlitConnection","_ref","timeout","args","divRef","useRef","useEffect","Streamlit","setFrameHeight","window","katex","ro","ResizeObserver","current","observe","disconnect","React","createElement","ref","ReactQuill","defaultValue","modules","toolbar","history","placeholder","preserveWhitespace","readOnly","onChange","content","delta","source","editor","clearTimeout","setTimeout","setComponentValue","html","getText","ReactDOM","render","StrictMode","QuillDarkMode","document","getElementById"],"mappings":"iQAgEeA,G,OAAAA,aAhDO,SAAHC,GAA8B,IAG3CC,EAHmBC,EAAIF,EAAJE,KACjBC,EAASC,iBAAuB,MA8BtC,OAdAC,qBAAU,WACRC,IAAUC,iBAEVC,OAAOC,MAAQA,IAEf,IAAMC,EAAK,IAAIC,KAAe,WAC5BL,IAAUC,oBAKZ,OAFIJ,EAAOS,SAASF,EAAGG,QAAQV,EAAOS,SAE/B,kBAAMF,EAAGI,iBAIhBC,IAAAC,cAAA,OAAKC,IAAKd,GACRY,IAAAC,cAACE,IAAU,CACTC,aAAcjB,EAAKiB,aACnBC,QAAS,CACPC,QAASnB,EAAKmB,QACdC,QAASpB,EAAKoB,SAEhBC,YAAarB,EAAKqB,YAClBC,mBAAoBtB,EAAKsB,mBACzBC,SAAUvB,EAAKuB,SACfC,SArCe,SACnBC,EACAC,EACAC,EACAC,GAEAC,aAAa9B,GACbA,EAAU+B,YAAW,WACnB1B,IAAU2B,kBAAkB/B,EAAKgC,KAAOP,EAAUG,EAAOK,aACxD,aC1BPC,IAASC,OACPtB,IAAAC,cAACD,IAAMuB,WAAU,KACfvB,IAAAC,cAACuB,EAAa,OAEhBC,SAASC,eAAe,U","file":"static/js/main.c9752ecc.chunk.js","sourcesContent":["import {\n  ComponentProps,\n  Streamlit,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, { useEffect, useRef } from \"react\"\nimport ReactQuill from \"react-quill\"\nimport ResizeObserver from \"resize-observer-polyfill\"\nimport katex from \"katex\"\n\nimport \"./quill.smoke.css\"\n\ninterface QuillProps extends ComponentProps {\n  args: any\n}\n\nconst QuillDarkMode = ({ args }: QuillProps) => {\n  const divRef = useRef<HTMLDivElement>(null)\n\n  let timeout: NodeJS.Timeout\n\n  const handleChange = (\n    content: string,\n    delta: any,\n    source: any,\n    editor: any\n  ) => {\n    clearTimeout(timeout)\n    timeout = setTimeout(() => {\n      Streamlit.setComponentValue(args.html ? content : editor.getText())\n    }, 200)\n  }\n\n  useEffect(() => {\n    Streamlit.setFrameHeight()\n\n    window.katex = katex\n\n    const ro = new ResizeObserver(() => {\n      Streamlit.setFrameHeight()\n    })\n\n    if (divRef.current) ro.observe(divRef.current)\n\n    return () => ro.disconnect()\n  })\n\n  return (\n    <div ref={divRef}>\n      <ReactQuill\n        defaultValue={args.defaultValue}\n        modules={{\n          toolbar: args.toolbar,\n          history: args.history,\n        }}\n        placeholder={args.placeholder}\n        preserveWhitespace={args.preserveWhitespace}\n        readOnly={args.readOnly}\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n\nexport default withStreamlitConnection(QuillDarkMode)\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport QuillDarkMode from \"./QuillDarkMode\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <QuillDarkMode />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}