(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d9008cc"],{1148:function(t,e,a){"use strict";var i=a("a691"),o=a("1d80");t.exports="".repeat||function(t){var e=String(o(this)),a="",r=i(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(a+=e);return a}},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"25f9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cl-profiler-wrap"},[t.hasFlopsInfo?i("div",{staticClass:"flops-info"},[i("span",{attrs:{title:t.$t("operator.flops")}},[t._v(" FLOPs"+t._s(t.$t("symbols.colon"))+t._s(void 0===t.flops.FLOPs?"--":t.flops.FLOPs)+"M ")]),i("span",{attrs:{title:t.$t("operator.flopsS")}},[t._v(" FLOPS"+t._s(t.$t("symbols.colon"))+t._s(void 0===t.flops.FLOPS?"--":t.flops.FLOPS)+"G/"+t._s(t.$t("header.timeSecond"))+" ")]),i("span",{attrs:{title:t.$t("operator.flopsUtilizationTitle")}},[t._v(" "+t._s(t.$t("operator.flopsUtilization"))+t._s(void 0===t.flops.FLOPS_Utilization?"--":t.flops.FLOPS_Utilization)+"% ")]),i("div",{staticClass:"view-detail"},[i("button",{class:{disabled:0===Object.keys(t.flops).length},attrs:{disabled:0===Object.keys(t.flops).length},on:{click:t.showFlopsDetails}},[t._v(t._s(t.$t("profiling.viewDetail"))+" "),i("i",{staticClass:"el-icon-d-arrow-right"})])])]):t._e(),t.coreCharts.data.length?i("div",{staticClass:"cl-profiler-top",class:{fullScreen:t.coreFullScreen}},[i("div",[t.notTable?t._e():i("div",{staticClass:"chart-title"},[t._v(" "+t._s(t.$t("profiling.chartTitle"))+"("+t._s(t.unit)+") ")]),t.hasBarChart?i("el-radio-group",{staticClass:"chart-radio-group",attrs:{fill:"#00A5A7","text-color":"#FFFFFF",size:"small"},on:{change:t.coreChartChange},model:{value:t.coreCharts.type,callback:function(e){t.$set(t.coreCharts,"type",e)},expression:"coreCharts.type"}},[i("el-radio-button",{attrs:{label:0}},[t._v(" "+t._s(t.$t("operator.pie"))+" ")]),i("el-radio-button",{attrs:{label:1}},[t._v(" "+t._s(t.$t("operator.bar"))+" ")])],1):t._e()],1),i("div",{staticClass:"cl-profiler-echarts"},[i("div",{staticClass:"chart",attrs:{id:t.chartId}})])]):t._e(),t.coreCharts.data.length&&!t.notTable?i("div",{staticClass:"cl-profiler-bottom",class:{fullScreen:t.coreFullScreen,flops:t.hasFlopsInfo}},[i("img",{staticClass:"fullScreen",attrs:{src:a("4da4"),title:t.screenTitle},on:{click:t.fullScreenControl}}),i("div",[t.hasBarChart?i("el-radio-group",{attrs:{fill:"#00A5A7","text-color":"#FFFFFF",size:"small"},on:{change:t.coreTableChange},model:{value:t.coreStatisticType,callback:function(e){t.coreStatisticType=e},expression:"coreStatisticType"}},[i("el-radio-button",{attrs:{label:1}},[t._v(" "+t._s(t.$t("operator.allOperator"))+" ")]),i("el-radio-button",{attrs:{label:0}},[t._v(" "+t._s(t.$t("operator.classificationOperator"))+" ")])],1):t._e(),i("div",{staticClass:"cl-search-box"},[!t.coreStatisticType&&t.hasBarChart?i("el-input",{attrs:{placeholder:t.search.all.label,clearable:""},on:{clear:t.searchOpCoreList},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOpCoreList.apply(null,arguments)}},model:{value:t.searchByTypeInput,callback:function(e){t.searchByTypeInput=e},expression:"searchByTypeInput"}}):t._e(),t.coreStatisticType&&t.hasBarChart?i("el-input",{attrs:{placeholder:t.search.detail.label,clearable:""},on:{clear:t.searchOpCoreList},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOpCoreList.apply(null,arguments)}},model:{value:t.searchByNameInput,callback:function(e){t.searchByNameInput=e},expression:"searchByNameInput"}}):t._e(),t.hasBarChart?t._e():i("el-input",{attrs:{placeholder:t.searchPlaceholder,clearable:""},on:{clear:t.searchOpCoreList},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOpCoreList.apply(null,arguments)}},model:{value:t.searchByNameInput,callback:function(e){t.searchByNameInput=e},expression:"searchByNameInput"}})],1),t.hasBarChart?t._e():i("el-select",{staticClass:"core-search-type",attrs:{placeholder:t.$t("public.select")},on:{change:t.searchTypeChange},model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},t._l(t.coreSearchOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i("el-table",{directives:[{name:"show",rawName:"v-show",value:!t.coreStatisticType&&t.opTypeCol&&t.opTypeCol.length,expression:"!coreStatisticType && opTypeCol && opTypeCol.length"}],ref:"expandTable",attrs:{data:t.opTypeList,stripe:"",height:"calc(100% - 40px)",width:"100%"},on:{"expand-change":t.expandCoreTypeItem,"sort-change":t.opTypeSortChange}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"expand-table"},[i("el-table",{ref:"expandCoreChild",attrs:{data:e.row.opDetailList,stripe:"",width:"100%","tooltip-effect":"light"},on:{"cell-click":t.showInfoDetail,"sort-change":function(){var a=[],i=arguments.length;while(i--)a[i]=arguments[i];t.coreDetailSortChange.apply(void 0,[e.row].concat(a))}}},t._l(e.row.opDetailCol,(function(e,a){return i("el-table-column",{key:a,attrs:{property:e,sortable:"op_info"!==e&&"custom","min-width":"op_info"===e?350:"full_op_name"===e?220:"","show-overflow-tooltip":"avg_execution_time"===e}},[i("template",{slot:"header"},[i("div",{staticClass:"custom-label",attrs:{title:t.getHeaderField(e)}},[t._v(" "+t._s(t.getHeaderField(e))+" ")])])],2)})),1),i("el-pagination",{attrs:{"current-page":e.row.opDetailPage.offset+1,"page-size":e.row.opDetailPage.limit,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:e.row.pageTotal},on:{"current-change":function(){var a=[],i=arguments.length;while(i--)a[i]=arguments[i];t.opDetailPageChange.apply(void 0,[e.row].concat(a))},"size-change":function(){var a=[],i=arguments.length;while(i--)a[i]=arguments[i];t.opDetailPageSizeChange.apply(void 0,[e.row].concat(a))}}}),i("div",{staticClass:"clear"})],1)]}}],null,!1,2899327245)}),t._l(t.opTypeCol,(function(e,a){return i("el-table-column",{key:a,attrs:{property:e,sortable:""}},[i("template",{slot:"header"},[i("div",{staticClass:"custom-label",attrs:{title:t.getHeaderField(e)}},[t._v(" "+t._s(t.getHeaderField(e))+" ")])])],2)}))],2),i("el-table",{directives:[{name:"show",rawName:"v-show",value:t.coreStatisticType&&t.opAllTypeList.opDetailCol&&t.opAllTypeList.opDetailCol.length,expression:"coreStatisticType && opAllTypeList.opDetailCol && opAllTypeList.opDetailCol.length"}],ref:"opAllTable",attrs:{data:t.opAllTypeList.opDetailList,stripe:"",width:"100%",height:"calc(100% - 80px)","tooltip-effect":"light"},on:{"cell-click":t.showInfoDetail,"sort-change":function(){var e=[],a=arguments.length;while(a--)e[a]=arguments[a];t.coreDetailSortChange.apply(void 0,[t.opAllTypeList].concat(e))}}},t._l(t.opAllTypeList.opDetailCol,(function(e,a){return i("el-table-column",{key:a,attrs:{property:e,sortable:"op_info"!==e&&"custom","min-width":"op_info"===e?350:"full_op_name"===e?220:"","show-overflow-tooltip":"avg_execution_time"===e}},[i("template",{slot:"header"},[i("div",{staticClass:"custom-label",attrs:{title:t.getHeaderField(e)}},[t._v(" "+t._s(t.getHeaderField(e))+" ")])])],2)})),1),t.opAllTypeList.opDetailList.length?i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.coreStatisticType,expression:"coreStatisticType"}],attrs:{"current-page":t.opAllTypeList.opDetailPage.offset+1,"page-size":t.opAllTypeList.opDetailPage.limit,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:t.opAllTypeList.pageTotal},on:{"current-change":function(){var e=[],a=arguments.length;while(a--)e[a]=arguments[a];t.opDetailPageChange.apply(void 0,[t.opAllTypeList].concat(e))},"size-change":function(){var e=[],a=arguments.length;while(a--)e[a]=arguments[a];t.opDetailPageSizeChange.apply(void 0,[t.opAllTypeList].concat(e))}}}):t._e()],1):t._e(),0===t.coreCharts.data.length?i("div",{staticClass:"image-noData"},[i("div",[i("img",{attrs:{src:a("9485"),alt:""}})]),t.isAICPU?i("p",[t._v(t._s(t.initOver?t.$t("public.noAICPUOperatorData"):t.$t("public.dataLoading")))]):t._e(),t.isAICPU?t._e():i("p",[t._v(t._s(t.initOver?t.$t("public.noOperatorData"):t.$t("public.dataLoading")))])]):t._e(),i("el-dialog",{staticClass:"details-data-list",attrs:{title:t.rowName,visible:t.detailsDialogVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(e){t.detailsDialogVisible=e}}},[i("el-table",{attrs:{data:t.detailsDataList,"row-key":"id",lazy:"","tooltip-effect":"light",load:t.loadDataListChildren,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{width:"50"}}),i("el-table-column",{attrs:{prop:"key",width:"180",label:"Key"}}),i("el-table-column",{attrs:{prop:"value","show-overflow-tooltip":"",label:"Value"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.value)+" ")]}}])})],1)],1),i("el-dialog",{staticClass:"flops-data-list",attrs:{visible:t.flopsDialogVisible,width:"100%","close-on-click-modal":!1},on:{"update:visible":function(e){t.flopsDialogVisible=e}}},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.$t("operator.scopeLevelFlops"))+" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"top-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("profiling.features"))),i("br"),t._v(" "+t._s(t.$t("profiling.flopsScopeTipOne"))),i("br"),t._v(" "+t._s(t.$t("profiling.flopsScopeTipTwo"))),i("br"),t._v(" "+t._s(t.$t("profiling.flopsScopeTipThree"))+" ")]),i("i",{staticClass:"el-icon-info"})])],1),t.flopsChartDom?i("div",{staticClass:"reset"},[i("el-button",{attrs:{size:"mini"},on:{click:t.reset}},[t._v(t._s(t.$t("public.reset")))])],1):t._e(),t.flopsHasData?i("div",{style:{width:t.flopsChartWidth+"px",height:t.flopsChartHeight+"px"},attrs:{id:"flopsChart"}}):i("div",{staticClass:"image-noData"},[i("div",[i("img",{attrs:{src:a("9485"),alt:""}})]),i("p",[t._v(t._s(t.flopsInit?t.$t("public.noData"):t.$t("public.dataLoading")))])])])],1)},o=[],r=a("53ca"),n=(a("a9e3"),a("b0c0"),a("d3b7"),a("159b"),a("e260"),a("6062"),a("3ca3"),a("ddb0"),a("d81d"),a("7db0"),a("4e82"),a("498a"),a("ac1f"),a("841c"),a("e9c4"),a("b64b"),a("b680"),a("fb6a"),a("99af"),a("5319"),a("9fac")),l=a("3778"),s=a("2dd7"),c=1,p=.1,u=1,h=.6,d=.1,f=.2,v={props:{chartId:{type:String,default:""},currentCard:{type:String,default:""},opType:{type:Object,default:function(){return{all:"",detail:""}}},opSortCondition:{type:Object,default:function(){return{all:{name:"",type:""},detail:{name:"",type:""}}}},headerFilder:{type:Object,default:function(){return{}}},search:{type:Object,default:function(){return{all:{label:"",type:""},detail:{label:"",type:""}}}},chart:{type:Object,default:function(){return{value:1,percent:3}}},hasBarChart:{type:Boolean,default:!0},coreSearchType:{type:String,default:""},coreSearchOptions:{type:Array,default:function(){return[{label:"",value:"",placeHolder:""},{label:"",value:"",placeHolder:""}]}},accuracy:{type:Number,default:3},unit:{type:String,default:""},hasFlopsInfo:{type:Boolean,default:!1},notTable:{type:Boolean,default:!1}},data:function(){return{coreCharts:{type:0,id:this.chartId,chartDom:null,data:[]},coreStatisticType:this.hasBarChart?0:1,searchByTypeInput:"",searchByNameInput:"",opTypeCol:[],opTypeList:[],opAllTypeList:{opDetailCol:[],opDetailList:[],pageTotal:0,opDetailPage:{offset:0,limit:10},op_filter_condition:{},op_sort_condition:{}},rowName:this.$t("dataTraceback.details"),detailsDataList:[],detailsDialogVisible:!1,profile_dir:this.$route.query.dir,train_id:this.$route.query.id,op_filter_condition:{},op_sort_condition:this.opSortCondition.all,initOver:!1,objectType:"object",curActiveRow:{rowItem:null,childProp:null,childOrder:null},coreFullScreen:!1,searchPlaceholder:this.coreSearchOptions[0].placeHolder,searchType:this.coreSearchType,flops:{},flopsDialogVisible:!1,flopsChartDom:null,flopsChartWidth:800,flopsChartHeight:540,flopsHasData:!1,flopsInit:!1,activeFlopsNode:null,activeFlopsLink:null,screenTitle:this.$t("graph.fullScreen"),isAICPU:"cpu-echarts"===this.chartId}},destroyed:function(){window.removeEventListener("resize",this.resizeCallback),this.$bus.$off("collapse"),this.coreCharts.chartDom&&(this.coreCharts.chartDom.off("mouseover"),this.coreCharts.chartDom.off("mouseout"))},methods:{reset:function(){this.flopsChartDom.dispatchAction({type:"restore"})},handleFlopsChartClick:function(t){var e=this.flopsChartDom.getOption().series[0],a=e.data,i=e.links;if(t.name){var o=t.name;if(this.activeFlopsNode===o)this.activeFlopsNode=null,a.forEach((function(t){t.itemStyle.opacity=u,t.label.show=!0})),i.forEach((function(t){t.lineStyle.opacity=f}));else{this.activeFlopsNode=o;var r=new Set([o]);i=i.map((function(t){var e,a=t.target,i=t.source;return a===o?(r.add(i),e=h):i===o?(r.add(a),e=h):e=d,t.lineStyle={opacity:e},t})),a=a.map((function(t){var e=r.has(t.name);return t.itemStyle={opacity:e?c:p},t.label={show:e},t}))}this.activeFlopsLink&&(this.activeFlopsLink=null)}else{var n=t.source,l=t.target;if(this.activeFlopsLink&&this.activeFlopsLink.source===n&&this.activeFlopsLink.target===l)this.activeFlopsLink=null,a.forEach((function(t){t.itemStyle.opacity=u,t.label.show=!0})),i.forEach((function(t){t.lineStyle.opacity=f}));else{this.activeFlopsLink={source:n,target:l},a=a.map((function(t){var e=t.name===n||t.name===l;return t.itemStyle={opacity:e?c:p},t.label={show:e},t}));var s=!1;i=i.map((function(t){var e;return s?e=d:t.target===l&&t.source===n?(s=!0,e=h):e=d,t.lineStyle={opacity:e},t}))}this.activeFlopsNode&&(this.activeFlopsNode=null)}this.flopsChartDom.setOption({series:[{data:a,links:i}]})},setFlopsChartOption:function(t,e){this.flopsChartDom.setOption({title:{text:"Sankey Diagram"},tooltip:{trigger:"item",triggerOn:"mousemove",confine:!0},itemStyle:{borderWidth:1},label:{width:100,overflow:"truncate",ellipsis:"...",color:s["a"].modelTracebackChartTheme[this.$store.state.themeIndex].batchSizeTextColor},series:[{type:"sankey",data:t,links:e,emphasis:{focus:"adjacency"},nodeGap:10,left:0,right:110,top:30,bottom:30,lineStyle:{curveness:.5,color:s["a"].commonChartTheme[this.$store.state.themeIndex].lineStyleColor}}]})},showFlopsDetails:function(){var t=this;this.flopsDialogVisible=!0,this.flopsInit=!1;var e={train_id:this.train_id,device_id:this.currentCard};l["a"].getFlopsScope(e).then((function(e){if(t.flopsInit=!0,e.data.data&&e.data.max_scope_num){var a=e.data.data.nodes||[],i=e.data.data.links||[];t.flopsHasData=!!a.length;var o=e.data.max_scope_num,r=0;a.forEach((function(t){i.find((function(e){return e.source===t.name}))||r++})),t.flopsChartWidth=150*o,t.flopsChartHeight=25*r,t.$nextTick((function(){t.flopsChartDom||(t.flopsChartDom=n["a"].init(document.querySelector("#flopsChart"),n["b"])),t.setFlopsChartOption(a,i),t.flopsChartDom.on("click",(function(e){t.handleFlopsChartClick(e.data)}))}))}else t.flopsHasData=!1}),(function(){t.flopsInit=!0,t.flopsHasData=!1}))},getFlopsSummary:function(){var t=this,e={train_id:this.train_id,device_id:this.currentCard};l["a"].getFlopsSummary(e).then((function(e){e&&e.data&&(t.flops=e.data)}))},searchTypeChange:function(){var t=this;this.coreSearchOptions.forEach((function(e){e.label===t.searchType&&(t.searchPlaceholder=e.placeHolder)})),this.searchOpCoreList()},getHeaderField:function(t){return this.headerFilder[t]?this.headerFilder[t]:t},resizeEchart:function(){var t=this;this.coreCharts.chartDom&&setTimeout((function(){t.coreCharts.chartDom.resize()}),300)},fullScreenControl:function(){var t=this;this.coreFullScreen=!this.coreFullScreen,this.screenTitle=this.coreFullScreen?this.$t("graph.partScreen"):this.$t("graph.fullScreen"),this.coreCharts.chartDom&&!this.coreFullScreen&&this.$nextTick((function(){t.coreCharts.chartDom.resize()}))},opTypeSortChange:function(t){var e=this;this.op_sort_condition={name:t.prop,type:t.order},this.$nextTick((function(){var t=e.$refs["expandCoreChild"];t&&e.curActiveRow.rowItem&&t.sort(e.curActiveRow.childProp,e.curActiveRow.childOrder)}))},clearCoreData:function(){this.searchByTypeInput="",this.searchByNameInput="",this.op_filter_condition={},this.op_sort_condition=this.opSortCondition.all,this.opTypeCol=[],this.opTypeList=[],this.opAllTypeList={opDetailCol:[],opDetailList:[],pageTotal:0,opDetailPage:{offset:0,limit:10},op_filter_condition:{},op_sort_condition:{}}},getCoreTypeList:function(){var t=this,e={};e.params={profile:this.profile_dir,train_id:this.train_id},e.body={op_type:this.opType.all,device_id:this.currentCard,filter_condition:this.op_filter_condition,sort_condition:this.op_sort_condition},l["a"].getProfilerOpData(e).then((function(e){t.initOver=!0,t.opTypeList=[],e&&e.data&&(t.opTypeCol=e.data.col_name,e.data.object&&(e.data.object.forEach((function(a){var i={isExpanded:!1,opDetailList:[],opDetailCol:[],opDetailPage:{offset:0,limit:10},pageTotal:0,op_filter_condition:{op_type:{in:[a[0]]}},op_sort_condition:{}};e.data.col_name.forEach((function(t,e){i[t]=a[e]})),t.opTypeList.push(i)})),t.$nextTick((function(){var e=t.$refs["expandTable"];e&&e.sort(t.op_sort_condition.name,t.op_sort_condition.type)})),t.coreCharts.device_id&&t.coreCharts.device_id===t.currentCard||(t.coreCharts.device_id=t.currentCard,t.coreCharts.data=[],e.data.object.forEach((function(e){t.coreCharts.data.length<19?t.coreCharts.data.push({name:e[0],value:e[t.chart.value],percent:e[t.chart.percent]}):(t.coreCharts.data[19]||(t.coreCharts.data[19]={name:"Other",value:0,percent:0}),t.coreCharts.data[19].value+=e[t.chart.value],t.coreCharts.data[19].percent+=e[t.chart.percent])})),t.setOption(t.coreCharts))))})).catch((function(){t.opTypeList=[],t.initOver=!0}))},getCoreDetailList:function(t,e){var a=this,i={};i.params={profile:this.profile_dir,train_id:this.train_id},i.body={op_type:this.opType.detail,device_id:this.currentCard,filter_condition:t.op_filter_condition,sort_condition:t.op_sort_condition,group_condition:t.opDetailPage},l["a"].getProfilerOpData(i).then((function(i){i&&i.data&&(a.formatterDetailData(t,i.data),a.$nextTick((function(){var i=null;a.coreStatisticType?i=a.$refs["opAllTable"]:(i=a.$refs["expandCoreChild"],a.curActiveRow={rowItem:t,childProp:t.op_sort_condition.name,childOrder:t.op_sort_condition.type}),i&&e&&i.sort(t.op_sort_condition.name,t.op_sort_condition.type),a.$refs.expandTable&&a.$refs.expandTable.doLayout()})))}))},opDetailPageChange:function(t,e){t.opDetailPage.offset=e-1,this.getCoreDetailList(t,!1)},opDetailPageSizeChange:function(t,e){t.opDetailPage.offset=0,t.opDetailPage.limit=e,this.getCoreDetailList(t,!1)},searchOpCoreList:function(){this.coreStatisticType?(this.opAllTypeList.op_filter_condition={},this.searchByNameInput?this.hasBarChart?this.opAllTypeList.op_filter_condition[this.search.detail.type]={partial_match_str_in:[this.searchByNameInput.trim()]}:this.opAllTypeList.op_filter_condition[this.searchType]={partial_match_str_in:[this.searchByNameInput.trim()]}:this.opAllTypeList.op_filter_condition={},this.opAllTypeList.opDetailPage.offset=0,this.getCoreDetailList(this.opAllTypeList,!1)):(this.op_filter_condition={},this.searchByTypeInput?this.op_filter_condition[this.search.all.type]={partial_match_str_in:[this.searchByTypeInput.trim()]}:this.op_filter_condition={},this.curActiveRow.rowItem&&(this.curActiveRow={rowItem:null,childProp:null,childOrder:null}),this.getCoreTypeList())},coreDetailSortChange:function(t,e){t.op_sort_condition={name:e.prop,type:e.order},t.opDetailPage.offset=0,this.getCoreDetailList(t,!1)},formatterDetailData:function(t,e){t.opDetailList=[],t.opDetailCol=e.col_name,t.pageTotal=e.size,e.object&&e.object.forEach((function(a){var i={};e.col_name.forEach((function(t,e){i[t]="op_info"===t?JSON.stringify(a[e]):a[e]})),t.opDetailList.push(i)}))},expandCoreTypeItem:function(t){if(t.isExpanded=!t.isExpanded,t.isExpanded){if(this.curActiveRow.rowItem){var e=this.$refs["expandTable"];e&&e.toggleRowExpansion(this.curActiveRow.rowItem,!1)}this.curActiveRow={rowItem:t,childProp:null,childOrder:null},t.opDetailList=[],t.opDetailCol=[],t.opDetailPage.offset=0,t.pageTotal=0,t.op_sort_condition=this.opSortCondition.detail,this.getCoreDetailList(t,!0)}else this.curActiveRow={rowItem:null,childProp:null,childOrder:null}},coreTableChange:function(){this.coreStatisticType&&!this.opAllTypeList.opDetailCol.length&&(this.opAllTypeList.op_sort_condition=this.opSortCondition.detail,this.getCoreDetailList(this.opAllTypeList,!0))},coreChartChange:function(){this.setOption(this.coreCharts)},setOption:function(t){var e=this,a={},i=20,o=150,r={};t.type?t.type&&(a.color=["#6C92FA"],a.tooltip={trigger:"axis",formatter:function(t){for(var a=t[0].axisValue,i=Math.ceil(a.length/o),r="",n=0;n<i;n++){var l=a.substr(n*o,o);r+=r?"<br/>"+l:l}return"".concat(r,"<br>").concat(t[0].marker).concat(t[0].value.toFixed(2)," (").concat(e.unit,")")},confine:!0},a.series=[{type:"bar",barWidth:30,data:[]}],a.xAxis={type:"category",axisLabel:{interval:0,rotate:-30},data:[],triggerEvent:!0},a.grid={left:"6%",top:20,right:0,bottom:50},a.yAxis={type:"value"},t.data.forEach((function(t){a.xAxis.data.push(t.name),a.series[0].data.push(parseFloat(t.value.toFixed(2)))}))):(a.legend={data:[],orient:"vertical",icon:"circle",formatter:function(e){if(Object.keys(r).length<1)return"";for(var a="",i=0;i<t.data.length;i++)if(t.data[i].name===e){var o="".concat(r[e].toFixed(2),"%"),n=t.data[i].name.length>10?"".concat(t.data[i].name.slice(0,10),"..."):t.data[i].name;a="{a|".concat(i+1,"}{b|").concat(n,"  ").concat(t.data[i].value.toFixed(2),"}\n{c|").concat(o,"}")}return a},tooltip:{show:!0,formatter:function(a){var i=a.name;i=i.replace(/</g,"< ");for(var r=Math.ceil(i.length/o),n="",l=0;l<r;l++){var s=i.substr(l*o,o);n+=n?"<br/>"+s:s}var c=t.data.find((function(t){return t.name===a.name})).value.toFixed(e.accuracy);return"".concat(n," ").concat(c,"(").concat(e.unit,")")}},itemWidth:18,itemHeight:18,padding:[0,50,0,0],top:"5%",left:"45%",itemGap:30,textStyle:{padding:[15,0,0,0],rich:{a:{width:24,align:"center",padding:[0,10,-4,-26],color:"#FFF"},b:{padding:[0,0,3,0]},c:{width:"100%",padding:[0,0,5,10],color:"#9EA4B3",fontSize:12}}}},a.tooltip={trigger:"item",formatter:function(t){for(var e=t.data.name.replace(/</g,"< "),a="".concat(e," ").concat(t.percent.toFixed(2).substring(0,4)+"%"),i=Math.ceil(a.length/o),r="",n=0;n<i;n++){var l=a.substr(n*o,o);r+=r?"<br/>"+l:l}return r},confine:!0},a.series=[{type:"pie",center:["23%","60%"],data:t.data,radius:"50%",label:{position:"outer",alignTo:"labelLine",formatter:function(t){return r[t.name]=t.percent,t.data.name&&t.data.name.length>i?"".concat(t.data.name.slice(0,i),"..."):t.data.name},color:s["a"].modelTracebackChartTheme[this.$store.state.themeIndex].batchSizeTextColor},itemStyle:{color:function(t){return s["a"].pieColorArr[e.$store.state.themeIndex][t.dataIndex]}}}],t.data.forEach((function(t){a.legend.data.push(t.name)}))),this.$nextTick((function(){var i=document.getElementById(t.id);i?(t.chartDom=n["a"].init(i,n["b"]),t.chartDom.setOption(a,!0),t.type?(t.chartDom.off("mouseover"),t.chartDom.off("mouseout"),t.chartDom.on("mouseover",(function(e){if("xAxis"===e.componentType){var a=e.event.offsetX+10,i=e.event.offsetY+10;t.chartDom.setOption({tooltip:{formatter:e.value,alwaysShowContent:!0}}),t.chartDom.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:0,position:[a,i]})}})),t.chartDom.on("mouseout",(function(a){"xAxis"===a.componentType&&t.chartDom.setOption({tooltip:{formatter:function(t){return"".concat(t[0].axisValue,"<br>").concat(t[0].marker).concat(t[0].value," (").concat(e.unit,")")},alwaysShowContent:!1}})}))):(t.chartDom.off("legendselectchanged"),t.chartDom.on("legendselectchanged",(function(){t.chartDom.setOption({legend:{formatter:function(a){for(var i="",o=0;o<t.data.length;o++)if(t.data[o].name===a){var n="".concat(r[a].toFixed(2),"%"),l=t.data[o].name.length>10?"".concat(t.data[o].name.slice(0,10),"..."):t.data[o].name;i="{a|".concat(o+1,"}{b|").concat(l,"  ").concat(t.data[o].value.toFixed(e.accuracy),"}\n{c|").concat(n,"}")}return i}}})}))),t.chartDom.resize()):t.chartDom&&(t.chartDom.off("mouseover"),t.chartDom.off("mouseout"),t.chartDom.clear())}),10)},showInfoDetail:function(t,e){"op_info"===e.property&&t&&t.op_info&&this.showDialogData(t.op_info,e)},showDialogData:function(t,e){var a=this;if(this.detailsDataList=[],"string"===typeof t&&"{}"!==t){var i=this.isJSON(t);i&&this.$nextTick((function(){a.rowName="op_info".concat(a.$t("dataTraceback.details")),a.detailsDialogVisible=!0,a.detailsDataList=a.formatJsonString(t)}))}},isJSON:function(t){try{return JSON.parse(t),!0}catch(e){return!1}},formatJsonString:function(t){var e=this;if(!t)return[];var a=[],i=JSON.parse(t),o=Object.keys(i);return o.forEach((function(t,o){var n={id:o+1,hasChildren:!1,key:t,value:""};Object(r["a"])(i[t])===e.objectType&&null!==i[t]?(i[t]instanceof Array||(n.hasChildren=!0,n.children=[],Object.keys(i[t]).forEach((function(a,o){var r={};r.key=a,r.value=i[t][a],r.id="".concat((new Date).getTime()).concat(e.$store.state.tableId),e.$store.commit("increaseTableId"),n.children.push(r)}))),n.value=JSON.stringify(i[t])):n.value=i[t],a.push(n)})),a},loadDataListChildren:function(t,e,a){setTimeout((function(){a(t.children)}))},resizeCallback:function(){this.coreCharts.chartDom&&this.coreCharts.chartDom.resize()}},mounted:function(){var t=this;window.addEventListener("resize",this.resizeCallback,!1),setTimeout((function(){t.$bus.$on("collapse",t.resizeEchart)}),500)}},y=v,m=(a("73e9"),a("2877")),g=Object(m["a"])(y,i,o,!1,null,null,null);e["a"]=g.exports},"408a":function(t,e,a){var i=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"498a":function(t,e,a){"use strict";var i=a("23e7"),o=a("58a8").trim,r=a("c8d2");i({target:"String",proto:!0,forced:r("trim")},{trim:function(){return o(this)}})},"4da4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAARdJREFUKBW1UTFqAlEQnflZ1xCEFAHB3lR7hECC5xBsUltELPZ3dmsheodAzhEIeAQr7QXFQlhEV91x3scRL5CB3T//vTezs2+420uFNJh4+RDL+2Q4XOBu8ZWmzXPBf0LSAOaMECnzE/PW7nYCA2d3h84kMifmVzrIr/f+xciQKxY41UDrMAY9ujcVzfRJdgV3rOCaJ4FTDbSRzazdPiCocPxjBciPVNBTLN9Zlm0UXxv3fydba/ygjTQaDVbA+/1B/ShF+24kiuAzrMvhBkmCmTUmeEFcSjnOD/TZ9b4ViTxHWArBZ9iqTqEbxAjkEGua0L6cntnVXNggxNhFlVtXN0JByBWzPUF72zRrNT4ZlHcvYOAMugDhu439cG89uAAAAABJRU5ErkJggg=="},"4e82":function(t,e,a){"use strict";var i=a("23e7"),o=a("1c0b"),r=a("7b0b"),n=a("d039"),l=a("a640"),s=[],c=s.sort,p=n((function(){s.sort(void 0)})),u=n((function(){s.sort(null)})),h=l("sort"),d=p||!u||!h;i({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?c.call(r(this)):c.call(r(this),o(t))}})},"53ca":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("e01a"),a("d3b7"),a("d28b"),a("e260"),a("3ca3"),a("ddb0");function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}},"5bf3":function(t,e,a){},6062:function(t,e,a){"use strict";var i=a("6d61"),o=a("6566");t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},6566:function(t,e,a){"use strict";var i=a("9bf2").f,o=a("7c73"),r=a("e2cc"),n=a("0366"),l=a("19aa"),s=a("2266"),c=a("7dd0"),p=a("2626"),u=a("83ab"),h=a("f183").fastKey,d=a("69f3"),f=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,a,c){var p=t((function(t,i){l(t,p,e),f(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),u||(t.size=0),void 0!=i&&s(i,t[c],t,a)})),d=v(e),y=function(t,e,a){var i,o,r=d(t),n=m(t,e);return n?n.value=a:(r.last=n={index:o=h(e,!0),key:e,value:a,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=n),i&&(i.next=n),u?r.size++:t.size++,"F"!==o&&(r.index[o]=n)),t},m=function(t,e){var a,i=d(t),o=h(e);if("F"!==o)return i.index[o];for(a=i.first;a;a=a.next)if(a.key==e)return a};return r(p.prototype,{clear:function(){var t=this,e=d(t),a=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete a[i.index],i=i.next;e.first=e.last=void 0,u?e.size=0:t.size=0},delete:function(t){var e=this,a=d(e),i=m(e,t);if(i){var o=i.next,r=i.previous;delete a.index[i.index],i.removed=!0,r&&(r.next=o),o&&(o.previous=r),a.first==i&&(a.first=o),a.last==i&&(a.last=r),u?a.size--:e.size--}return!!i},forEach:function(t){var e,a=d(this),i=n(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:a.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),r(p.prototype,a?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),u&&i(p.prototype,"size",{get:function(){return d(this).size}}),p},setStrong:function(t,e,a){var i=e+" Iterator",o=v(e),r=v(i);c(t,e,(function(t,e){f(this,{type:i,target:t,state:o(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,a=t.last;while(a&&a.removed)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?"keys"==e?{value:a.key,done:!1}:"values"==e?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),p(e)}}},"6d61":function(t,e,a){"use strict";var i=a("23e7"),o=a("da84"),r=a("94ca"),n=a("6eeb"),l=a("f183"),s=a("2266"),c=a("19aa"),p=a("861d"),u=a("d039"),h=a("1c7e"),d=a("d44e"),f=a("7156");t.exports=function(t,e,a){var v=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),m=v?"set":"add",g=o[t],b=g&&g.prototype,C=g,_={},D=function(t){var e=b[t];n(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!p(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!p(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!p(t))&&e.call(this,0===t?0:t)}:function(t,a){return e.call(this,0===t?0:t,a),this})};if(r(t,"function"!=typeof g||!(y||b.forEach&&!u((function(){(new g).entries().next()})))))C=a.getConstructor(e,t,v,m),l.REQUIRED=!0;else if(r(t,!0)){var T=new C,x=T[m](y?{}:-0,1)!=T,S=u((function(){T.has(1)})),w=h((function(t){new g(t)})),A=!y&&u((function(){var t=new g,e=5;while(e--)t[m](e,e);return!t.has(-0)}));w||(C=e((function(e,a){c(e,C,t);var i=f(new g,e,C);return void 0!=a&&s(a,i[m],i,v),i})),C.prototype=b,b.constructor=C),(S||A)&&(D("delete"),D("has"),v&&D("get")),(A||x)&&D(m),y&&b.clear&&delete b.clear}return _[t]=C,i({global:!0,forced:C!=g},_),d(C,t),y||a.setStrong(C,t,v),C}},"73e9":function(t,e,a){"use strict";a("5bf3")},"7db0":function(t,e,a){"use strict";var i=a("23e7"),o=a("b727").find,r=a("44d2"),n=a("ae40"),l="find",s=!0,c=n(l);l in[]&&Array(1)[l]((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(l)},"841c":function(t,e,a){"use strict";var i=a("d784"),o=a("825a"),r=a("1d80"),n=a("129f"),l=a("14c3");i("search",1,(function(t,e,a){return[function(e){var a=r(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,a):new RegExp(e)[t](String(a))},function(t){var i=a(e,t,this);if(i.done)return i.value;var r=o(t),s=String(this),c=r.lastIndex;n(c,0)||(r.lastIndex=0);var p=l(r,s);return n(r.lastIndex,c)||(r.lastIndex=c),null===p?-1:p.index}]}))},9485:function(t,e,a){t.exports=a.p+"static/img/nodata.8290bed9.png"},b0c0:function(t,e,a){var i=a("83ab"),o=a("9bf2").f,r=Function.prototype,n=r.toString,l=/^\s*function ([^ (]*)/,s="name";i&&!(s in r)&&o(r,s,{configurable:!0,get:function(){try{return n.call(this).match(l)[1]}catch(t){return""}}})},b680:function(t,e,a){"use strict";var i=a("23e7"),o=a("a691"),r=a("408a"),n=a("1148"),l=a("d039"),s=1..toFixed,c=Math.floor,p=function(t,e,a){return 0===e?a:e%2===1?p(t,e-1,a*t):p(t*t,e/2,a)},u=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},h=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));i({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,a,i,l,s=r(this),h=o(t),d=[0,0,0,0,0,0],f="",v="0",y=function(t,e){var a=-1,i=e;while(++a<6)i+=t*d[a],d[a]=i%1e7,i=c(i/1e7)},m=function(t){var e=6,a=0;while(--e>=0)a+=d[e],d[e]=c(a/t),a=a%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==d[t]){var a=String(d[t]);e=""===e?a:e+n.call("0",7-a.length)+a}return e};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=u(s*p(2,69,1))-69,a=e<0?s*p(2,-e,1):s/p(2,e,1),a*=4503599627370496,e=52-e,e>0){y(0,a),i=h;while(i>=7)y(1e7,0),i-=7;y(p(10,i,1),0),i=e-1;while(i>=23)m(1<<23),i-=23;m(1<<i),y(1,1),m(2),v=g()}else y(0,a),y(1<<-e,0),v=g()+n.call("0",h);return h>0?(l=v.length,v=f+(l<=h?"0."+n.call("0",h-l)+v:v.slice(0,l-h)+"."+v.slice(l-h))):v=f+v,v}})},bb2f:function(t,e,a){var i=a("d039");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c8d2:function(t,e,a){var i=a("d039"),o=a("5899"),r="​᠎";t.exports=function(t){return i((function(){return!!o[t]()||r[t]()!=r||o[t].name!==t}))}},d28b:function(t,e,a){var i=a("746f");i("iterator")},d81d:function(t,e,a){"use strict";var i=a("23e7"),o=a("b727").map,r=a("1dde"),n=a("ae40"),l=r("map"),s=n("map");i({target:"Array",proto:!0,forced:!l||!s},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,a){"use strict";var i=a("23e7"),o=a("83ab"),r=a("da84"),n=a("5135"),l=a("861d"),s=a("9bf2").f,c=a("e893"),p=r.Symbol;if(o&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var u={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new p(t):void 0===t?p():p(t);return""===t&&(u[e]=!0),e};c(h,p);var d=h.prototype=p.prototype;d.constructor=h;var f=d.toString,v="Symbol(test)"==String(p("test")),y=/^Symbol\((.*)\)[^)]+$/;s(d,"description",{configurable:!0,get:function(){var t=l(this)?this.valueOf():this,e=f.call(t);if(n(u,t))return"";var a=v?e.slice(7,-1):e.replace(y,"$1");return""===a?void 0:a}}),i({global:!0,forced:!0},{Symbol:h})}},e9c4:function(t,e,a){var i=a("23e7"),o=a("d066"),r=a("d039"),n=o("JSON","stringify"),l=/[\uD800-\uDFFF]/g,s=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,p=function(t,e,a){var i=a.charAt(e-1),o=a.charAt(e+1);return s.test(t)&&!c.test(o)||c.test(t)&&!s.test(i)?"\\u"+t.charCodeAt(0).toString(16):t},u=r((function(){return'"\\udf06\\ud834"'!==n("\udf06\ud834")||'"\\udead"'!==n("\udead")}));n&&i({target:"JSON",stat:!0,forced:u},{stringify:function(t,e,a){var i=n.apply(null,arguments);return"string"==typeof i?i.replace(l,p):i}})},f183:function(t,e,a){var i=a("d012"),o=a("861d"),r=a("5135"),n=a("9bf2").f,l=a("90e3"),s=a("bb2f"),c=l("meta"),p=0,u=Object.isExtensible||function(){return!0},h=function(t){n(t,c,{value:{objectID:"O"+ ++p,weakData:{}}})},d=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,c)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[c].objectID},f=function(t,e){if(!r(t,c)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[c].weakData},v=function(t){return s&&y.REQUIRED&&u(t)&&!r(t,c)&&h(t),t},y=t.exports={REQUIRED:!1,fastKey:d,getWeakData:f,onFreeze:v};i[c]=!0},fb6a:function(t,e,a){"use strict";var i=a("23e7"),o=a("861d"),r=a("e8b5"),n=a("23cb"),l=a("50c4"),s=a("fc6a"),c=a("8418"),p=a("b622"),u=a("1dde"),h=a("ae40"),d=u("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),v=p("species"),y=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!d||!f},{slice:function(t,e){var a,i,p,u=s(this),h=l(u.length),d=n(t,h),f=n(void 0===e?h:e,h);if(r(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?o(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return y.call(u,d,f);for(i=new(void 0===a?Array:a)(m(f-d,0)),p=0;d<f;d++,p++)d in u&&c(i,p,u[d]);return i.length=p,i}})}}]);