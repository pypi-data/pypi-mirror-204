(this.webpackJsonpstreamlit_component_template=this.webpackJsonpstreamlit_component_template||[]).push([[0],{135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledCollapse=t.centerTableFooter=t.firstLetterStyle=t.SessionsTableContainer=t.cellDateTime=t.cellIconSpacing=t.cellMW160=void 0;var a=n(30),r=n(31);t.cellMW160={maxWidth:160,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.cellIconSpacing={paddingLeft:.3,paddingRight:.3,maxWidth:24},t.cellDateTime={maxWidth:192,minWidth:192,overflow:"hidden",background:"transparent"},t.SessionsTableContainer=(0,a.styled)(r.TableContainer)({height:"calc(100vh - 130px)",overflow:"auto",ml:-1,mr:-1,borderTop:"1px solid #eee",width:"100%"}),t.firstLetterStyle={textTransform:"none","::first-letter":{textTransform:"uppercase"}},t.centerTableFooter={display:"flex",justifyContent:"center",width:"100%",position:"fixed",bottom:0,borderTop:"1px solid lightgray",background:"white"},t.StyledCollapse=(0,a.styled)(r.Collapse)({backgroundColor:"rgba(0,161,192, 0.05)",paddingLeft:"100px"})},402:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionTable=void 0;var i=l(n(0)),u=n(31),c=n(26),d=o(n(470)),s=o(n(471)),f=o(n(472)),m=n(135),p=n(473),v=n(501),b=n(506),h=n(323);t.SessionTable=function(e){var t,n,a,r,l,o,g,y=(0,i.useState)(-1),E=y[0],S=y[1],_=(0,i.useState)(new Set),O=_[0],x=_[1],C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];S(-1),e.apply(void 0,t)}};return i.default.createElement(u.ThemeProvider,{theme:null!==(t=e.theme)&&void 0!==t?t:h.otosenseTheme2022},i.default.createElement(u.Box,{sx:{minHeight:"720px",backgroundColor:"#fff"}},!0===e.isMultiSelect&&i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Button,{color:"secondary",onClick:function(){e.onSelectSessions(Array.from(O))},startIcon:i.default.createElement(f.default,null)},i.default.createElement(u.Typography,{variant:"button"},"Submit Selection")),i.default.createElement(u.Button,{color:"secondary",onClick:function(){x(new Set)},startIcon:i.default.createElement(d.default,null)},i.default.createElement(u.Typography,{variant:"button"},"Clear Selection"))),i.default.createElement(v.SessionFilter,{clearFilters:e.clearFilters,submitFilters:C(e.submitFilters),filterOptions:e.filterOptions}),i.default.createElement(m.SessionsTableContainer,{sx:{borderTop:"1px solid #eee",width:"100%"}},i.default.createElement(u.Table,{size:"small",sx:{marginBottom:1},stickyHeader:!0},i.default.createElement(u.TableHead,{sx:{borderBottom:"1px solid #eee"}},i.default.createElement(u.TableRow,null,!0===e.isMultiSelect?i.default.createElement(u.TableCell,{sx:{paddingLeft:.3,paddingRight:.3,maxWidth:24,backgroundColor:"#fff"}},i.default.createElement(h.CenterBox,null,i.default.createElement(s.default,{color:"primary",onClick:function(){var t;if((null===(t=e.data)||void 0===t?void 0:t.length)>0){var n=e.data[0][e.sessionKey],a=new Set(O);O.has(n)?e.data.forEach((function(t){return a.delete(t[e.sessionKey])})):e.data.forEach((function(t){return a.add(t[e.sessionKey])})),x(a)}}}))):i.default.createElement(u.TableCell,{sx:{background:"#fff"},colSpan:1}),i.default.createElement(u.TableCell,{sx:{background:"#fff"},colSpan:1}),(r=e.columns,l=e.orderBy,o=e.order,g=C(e.onOrderChange),i.default.createElement(i.default.Fragment,null,r.map((function(e,t){return null!=e.orderBy?i.default.createElement(u.TableCell,{key:"header-".concat(t),sx:{background:"#fff"},sortDirection:l===e.orderBy&&o},i.default.createElement(u.TableSortLabel,{active:l===e.orderBy,direction:l===e.orderBy?o:"asc",onClick:function(){g(e.orderBy)}},e.label,l===e.orderBy?i.default.createElement(u.Box,{component:"span",sx:c.visuallyHidden},"desc"===o?"sorted descending":"sorted ascending"):null)):i.default.createElement(u.TableCell,{key:"header-".concat(t),sx:{background:"#fff"}},e.label)})))))),i.default.createElement(u.TableBody,{sx:{marginBottom:64}},(null===(n=e.data)||void 0===n?void 0:n.length)>0?i.default.createElement(i.default.Fragment,null,e.data.map((function(t,n){return i.default.createElement(p.Row,{key:"row-".concat(n),id:"row-".concat(n),data:t,columns:e.columns,isExpanded:n===E,onClickExpand:function(){S(n!==E?n:-1)},onSelectSession:function(){!function(t){if(!0===e.isMultiSelect){var n=new Set(O);n.has(t)?n.delete(t):n.add(t),x(n)}else x(new Set([t])),e.onSelectSessions([t])}(t[e.sessionKey])},isSelected:O.has(t[e.sessionKey]),renderExpandedData:function(){return e.renderExpandedData(t)}})}))):i.default.createElement(u.TableRow,null,i.default.createElement(u.TableCell,{colSpan:e.columns.length+2,sx:{textAlign:"center"}},"No Data"))),i.default.createElement(b.TablePaginationRowsPerPage,{rowsPerPage:e.rowsPerPage,onRowsPerPageChange:C(e.onRowsPerPageChange),page:e.page,onPageChange:C(e.onPageChange),count:null!==(a=e.totalCount)&&void 0!==a?a:-1})))))}},406:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.formatSessionTime=t.formatTimestamp=void 0;var o=l(n(509));t.formatTimestamp=function(e,t){return void 0===t&&(t=!1),t?isNaN(e)?"-":o.utc(new Date(e)).format("YYYY-MM-DD, HH:mm:ss")+" -UTC":isNaN(e)?"-":o.unix(e/1e3).format("YYYY-MM-DD, HH:mm:ss")};t.formatSessionTime=function(e,n){return void 0===n&&(n=!1),(0,t.formatTimestamp)(e/1e3,n)}},407:function(e,t,n){"use strict";var a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,l=t.length;r<l;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.listSessions=void 0;var r=function(e,t,n,a){for(var r=[],l=1,o=e;o<t;o+=n)r.push({name:"tag".concat(l),bt:o,tt:o+n}),l=l%a+1;return r},l=function(e){void 0===e&&(e=10);for(var t=[],n=[44100,48e3],a=0;a<e;a++){for(var l=1677672e9+6e8*a,o=1677672e9+6e8*(a+1),i=[],u=0;u<a%4+1;u++)i.push({name:"ch".concat(u),description:"microphone"});t.push({ID:"mockSession".concat(a),device_id:"deviceId".concat(a%2+1),bt:l,tt:o,sr:n[a%2],bit_depth:8,channels:i,annotations:r(l,o,6e7,a%5+1)})}return t}(100),o=function(e,t,n){return!("and"===t&&!e.every((function(e){return n.some((function(t){return t.name===e}))})))&&!("or"===t&&!n.some((function(t){var n=t.name;return e.includes(n)})))};t.listSessions=function(e,t,n,r){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=l);var i=null!=e?function(e,t){return void 0===t&&(t=l),a([],t,!0).filter((function(t){var n=e.from_bt,a=e.to_bt,r=e.from_tt,l=e.to_tt,i=e.sr,u=e.channels,c=e.annotations;return!(null!=n&&t.bt<n)&&(!(null!=a&&t.bt>a)&&(!(null!=r&&t.tt<r)&&(!(null!=l&&t.tt>l)&&((null==i||t.sr===i)&&(!(null!=u&&!o(u.names,u.operator,t.channels))&&!(null!=c&&!o(c.names,c.operator,t.annotations)))))))}))}(e,r):a([],r,!0);return null!=t&&(i=function(e,t){var n=a([],t,!0);return(null===n||void 0===n?void 0:n.length)>0&&(n="device_id"===e.field?"asc"===e.mode?n.sort((function(e,t){return e.device_id.localeCompare(t.device_id)})):n.sort((function(e,t){return t.device_id.localeCompare(e.device_id)})):"asc"===e.mode?n.sort((function(t,n){return t[e.field]-n[e.field]})):n.sort((function(t,n){return n[e.field]-t[e.field]}))),n}(t,i)),null!=n&&(i=i.slice(n.from_idx,n.to_idx)),i}},429:function(e,t,n){e.exports=n(513)},473:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Row=void 0;var r=a(n(0)),l=n(31),o=a(n(474)),i=a(n(475)),u=n(323),c=n(135),d=n(500);t.Row=function(e){return r.default.createElement(r.default.Fragment,{key:"".concat(e.id)},r.default.createElement(l.TableRow,{sx:{width:"100%",borderBottom:"0.5px solid #ccc"},hover:!0},r.default.createElement(l.TableCell,{sx:c.cellIconSpacing},r.default.createElement(u.CenterBox,null,r.default.createElement(l.Checkbox,{color:"primary",checked:e.isSelected,onChange:e.onSelectSession}))),r.default.createElement(l.TableCell,{sx:c.cellIconSpacing},r.default.createElement(l.IconButton,{"aria-label":"expand row",size:"small",onClick:e.onClickExpand},e.isExpanded?r.default.createElement(i.default,{color:"primary"}):r.default.createElement(o.default,{color:"primary"}))),e.columns.map((function(t,n){return r.default.createElement(l.TableCell,{sx:t.sx,key:"".concat(e.id,"-col-").concat(n)},"string"===typeof t.key?e.data[t.key]:t.key(e.data))}))),r.default.createElement(d.CollapsedContents,{isExpanded:e.isExpanded,renderData:e.renderExpandedData}))}},500:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsedContents=void 0;var r=a(n(0)),l=n(31),o=n(135);t.CollapsedContents=function(e){return r.default.createElement(l.TableRow,{sx:{width:"100%"}},r.default.createElement(l.TableCell,{sx:{p:0},colSpan:11},r.default.createElement(o.StyledCollapse,{in:e.isExpanded,timeout:"auto",unmountOnExit:!0},e.isExpanded&&e.renderData())))}},501:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchFilter=t.SearchHeader=t.SearchFooter=t.SessionFilter=void 0;var i=l(n(0)),u=o(n(502)),c=o(n(390)),d=o(n(503)),s=n(30),f=n(31),m=n(504),p=n(135);t.SessionFilter=function(e){var n=(0,i.useState)(!1),a=n[0],r=n[1],l=function(){r(!a)};return i.default.createElement(f.Box,{sx:{float:"right",mb:"16px"}},i.default.createElement(f.Button,{color:"secondary",onClick:l,startIcon:i.default.createElement(u.default,null)},i.default.createElement(f.Typography,{variant:"button"},"Filters")),i.default.createElement(t.SearchFilter,{filterOptions:e.filterOptions,drawerState:a,toggleState:l,title:"Filters",btnTxtSearch:"Search",btnTxtClear:"Clear",resetFilters:e.clearFilters,formatAndCallSetFilters:e.submitFilters}))},t.SearchFooter=(0,s.styled)(f.Box)({position:"absolute",bottom:0,textAlign:"right",width:"100%",height:"86px",padding:"1rem",backgroundColor:"#a3a6b4"}),t.SearchHeader=(0,s.styled)(f.Box)({display:"flex",justifyContent:"space-between",background:"#f3f3f3",padding:"18px"});t.SearchFilter=function(e){var n=e.filterOptions,a=e.drawerState,r=e.toggleState,l=e.title,o=e.btnTxtSearch,u=e.btnTxtClear,s=e.resetFilters,v=e.formatAndCallSetFilters;return i.default.createElement(f.Drawer,{anchor:"right",open:a,onClose:r},i.default.createElement(t.SearchHeader,null,i.default.createElement(f.Typography,{variant:"h3"},l),i.default.createElement(f.Box,{onClick:r,sx:{"&:hover":{cursor:"pointer"}}},i.default.createElement(c.default,{color:"primary"}))),n.map((function(e,t){return i.default.createElement(f.Accordion,{key:"search-filter-".concat(e.label,"-").concat(t),disableGutters:!0,sx:{overflow:"scroll"}},i.default.createElement(f.AccordionSummary,{expandIcon:i.default.createElement(d.default,null),"aria-controls":"panel1bh-content",id:"filter-header-".concat(e.label)},i.default.createElement(f.Typography,{variant:"body2",mr:1,sx:p.firstLetterStyle},e.label)),i.default.createElement(f.AccordionDetails,null,function(e){var t=e.options;if("date"===t){var n=e.label,a=e.fromValue,r=e.toValue,l=e.onChangeFrom,o=e.onChangeTo;return(0,m.DateTimeFilter)(n,a,r,l,o)}if("multilineOperator"===t){n=e.label;var i=e.linesValue,u=e.onChangeLines,c=e.operatorValue,d=e.onChangeOperator,s=e.operatorOptions;return(0,m.MultilineOperatorFilter)(n,i,u,c,d,s)}if(Array.isArray(t)){n=e.label;var f=e.value,p=e.onChange;return(0,m.renderSearchableFilter)(n,f,p,t)}}(e)))})),i.default.createElement(t.SearchFooter,null,i.default.createElement(f.Button,{color:"cancel",sx:{mr:1},onClick:s},i.default.createElement(f.Typography,{variant:"button"},u)),i.default.createElement(f.Button,{sx:{mr:1},onClick:v,disabled:!1},i.default.createElement(f.Typography,{variant:"button"},o))))}},504:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeFilter=t.renderSearchableFilter=t.MultilineOperatorFilter=void 0;var i=o(n(0)),u=n(31),c=n(511),d=n(505),s=n(512);t.MultilineOperatorFilter=function(e,t,n,r,l,o){var c=(0,i.useState)(""),d=c[0],s=c[1];return(0,i.useEffect)((function(){s(null!=t?t.join("\n"):"")}),[t]),i.default.createElement(i.default.Fragment,null,i.default.createElement(u.TextField,{sx:{height:"auto",width:"100%"},placeholder:"Separate values with newline",variant:"filled",value:d,multiline:!0,rows:4,onChange:function(e){s(e.target.value)},onBlur:function(){n(d.replace(/^\s+|\s+$/g,"").split(/\s+/))}}),i.default.createElement(u.Autocomplete,{options:o,id:"filter-".concat(e),onChange:function(e,t){l(null!=t?t:null)},value:null!==r&&void 0!==r?r:"",renderInput:function(e){return i.default.createElement(u.TextField,a({},e,{placeholder:"Operator",variant:"filled"}))}}))};t.renderSearchableFilter=function(e,t,n,r){return i.default.createElement(u.Autocomplete,{options:r,id:"filter-".concat(e),onChange:function(e,t){n(null!=t?t:"")},value:null!==t&&void 0!==t?t:"",renderInput:function(t){return i.default.createElement(u.TextField,a({},t,{placeholder:e,variant:"filled"}))}})};t.DateTimeFilter=function(e,t,n,r,l){var o=(0,i.useState)(null),f=o[0],m=o[1],p=(0,i.useState)(null),v=p[0],b=p[1],h=(0,i.useState)(!1),g=h[0],y=h[1],E=(0,i.useState)(""),S=E[0],_=E[1],O=function(e){var t=e.toString().split(" "),n=t[4].slice(0,-2).concat("00"),a=t;a[4]=n;var r=a.join(" ");return new Date(r)};return(0,i.useEffect)((function(){null==t&&null==n?(b(null),m(null)):null!=t&&null!=n||(null!=t&&null==n?(_("Select End Date And Time"),y(!0)):null!=n&&null==t?(_("Select Start Date And Time"),y(!0)):null!=n&&null!=t&&(y(!1),_("")))}),[n,t]),i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Stack,{mb:1},i.default.createElement(u.Typography,{variant:"overline"},"Start Date"),i.default.createElement(d.LocalizationProvider,{dateAdapter:c.AdapterDateFns},i.default.createElement(s.DateTimePicker,{renderInput:function(e){return i.default.createElement(u.TextField,a({},e))},value:f,onChange:function(e){null!=e&&"string"!==typeof e&&function(e){m(e);var t=1e3*O(e).getTime();r(t)}(e)}}))),i.default.createElement(u.Stack,null,i.default.createElement(u.Typography,{variant:"overline"},"End Date"),i.default.createElement(d.LocalizationProvider,{dateAdapter:c.AdapterDateFns},i.default.createElement(s.DateTimePicker,{renderInput:function(e){return i.default.createElement(u.TextField,a({},e))},value:v,onChange:function(e){null!=e&&"string"!==typeof e&&function(e){var n=1e3*O(e).getTime();null==t||t<=n?(y(!1),_(""),b(e),l(n)):(_("Start Date Must Be Earlier Than End Date"),y(!0))}(e)}})),g&&i.default.createElement(u.Typography,{variant:"caption",color:"error"},S)))}},506:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TablePaginationRowsPerPage=void 0;var i=l(n(0)),u=n(30),c=n(31),d=o(n(507)),s=o(n(508)),f=n(135),m=function(e){var t=(0,u.useTheme)();return i.createElement(c.Box,{sx:{flexShrink:0}},i.createElement(c.IconButton,{onClick:function(t){var n=e.page-1;e.onPageChange(t,n)},disabled:0===e.page,"aria-label":"previous page"},"rtl"===t.direction?i.createElement(s.default,null):i.createElement(d.default,null)),i.createElement(c.IconButton,{onClick:function(t){var n=e.page+1;e.onPageChange(t,n)},disabled:-1!==e.count&&(e.page+1)*e.rowsPerPage>=e.count,"aria-label":"next page"},"rtl"===t.direction?i.createElement(d.default,null):i.createElement(s.default,null)))};t.TablePaginationRowsPerPage=function(e){var t;return i.createElement(c.TableFooter,{sx:f.centerTableFooter},i.createElement(c.TableRow,null,i.createElement(c.TablePagination,{rowsPerPageOptions:[10,20,30,40,50],colSpan:10,count:null!==(t=e.count)&&void 0!==t?t:-1,rowsPerPage:e.rowsPerPage,page:e.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:e.onPageChange,onRowsPerPageChange:e.onRowsPerPageChange,ActionsComponent:m,labelDisplayedRows:function(e){var t=e.from,n=e.to;return"".concat(t,"-").concat(n)}})))}},513:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(49),o=n.n(l),i=n(262),u=n(224),c=n(12),d=n(268),s=n(394),f=n(585),m=n(393),p=n(371),v=n(402),b=n(406),h=n(135),g=n(407),y=[{label:"Start Date",sx:h.cellDateTime,key:function(e){return Object(b.formatSessionTime)(+e.bt)},orderBy:"bt"},{label:"Duration (sec)",sx:h.cellMW160,key:function(e){return"".concat((e.tt-e.bt)/1e6)}},{label:"Tags",sx:{maxWidth:480,overflowWrap:"break-word",wordBreak:"break-word",wordWrap:"break-word"},key:function(e){var t=new Set(e.annotations.map((function(e){return e.name})));return Array.from(t).join(", ")}}],E=function(e){var t,n,l,o,i,u,b,h,E,S,_,O,x,C,T,w,j,P,D,F,k,M,B,A,R,I,q,V,H,L,W,Y,K=Object(a.useState)(null===(t=e.query)||void 0===t||null===(n=t.filter)||void 0===n?void 0:n.from_bt),N=Object(c.a)(K,2),z=N[0],J=N[1],G=Object(a.useState)(null===(l=e.query)||void 0===l||null===(o=l.filter)||void 0===o?void 0:o.to_bt),U=Object(c.a)(G,2),$=U[0],Q=U[1],X=Object(a.useState)(null===(i=e.query)||void 0===i||null===(u=i.filter)||void 0===u?void 0:u.from_tt),Z=Object(c.a)(X,2),ee=Z[0],te=Z[1],ne=Object(a.useState)(null===(b=e.query)||void 0===b||null===(h=b.filter)||void 0===h?void 0:h.to_tt),ae=Object(c.a)(ne,2),re=ae[0],le=ae[1],oe=Object(a.useState)(null===(E=e.query)||void 0===E||null===(S=E.filter)||void 0===S?void 0:S.sr),ie=Object(c.a)(oe,2),ue=ie[0],ce=ie[1],de=Object(a.useState)(null===(_=e.query)||void 0===_||null===(O=_.filter)||void 0===O||null===(x=O.channels)||void 0===x?void 0:x.names),se=Object(c.a)(de,2),fe=se[0],me=se[1],pe=Object(a.useState)(null===(C=e.query)||void 0===C||null===(T=C.filter)||void 0===T||null===(w=T.channels)||void 0===w?void 0:w.operator),ve=Object(c.a)(pe,2),be=ve[0],he=ve[1],ge=Object(a.useState)(null===(j=e.query)||void 0===j||null===(P=j.filter)||void 0===P||null===(D=P.annotations)||void 0===D?void 0:D.names),ye=Object(c.a)(ge,2),Ee=ye[0],Se=ye[1],_e=Object(a.useState)(null===(F=e.query)||void 0===F||null===(k=F.filter)||void 0===k||null===(M=k.annotations)||void 0===M?void 0:M.operator),Oe=Object(c.a)(_e,2),xe=Oe[0],Ce=Oe[1],Te=50,we=0;null!=(null===(B=e.query)||void 0===B||null===(A=B.pagination)||void 0===A?void 0:A.from_idx)&&(Te=e.query.pagination.to_idx-e.query.pagination.from_idx,we=e.query.pagination.from_idx/Te);var je=Object(a.useState)(Te),Pe=Object(c.a)(je,2),De=Pe[0],Fe=Pe[1],ke=Object(a.useState)(we),Me=Object(c.a)(ke,2),Be=Me[0],Ae=Me[1],Re=Object(a.useState)(null!==(R=null===(I=e.query)||void 0===I||null===(q=I.sort)||void 0===q?void 0:q.mode)&&void 0!==R?R:"desc"),Ie=Object(c.a)(Re,2),qe=Ie[0],Ve=Ie[1],He=Object(a.useState)(null!==(V=null===(H=e.query)||void 0===H||null===(L=H.sort)||void 0===L?void 0:L.field)&&void 0!==V?V:"bt"),Le=Object(c.a)(He,2),We=Le[0],Ye=Le[1],Ke=Object(a.useState)(e.data),Ne=Object(c.a)(Ke,2),ze=Ne[0],Je=Ne[1],Ge=function(){var t={filter:{from_bt:z,to_bt:$,from_tt:ee,to_tt:re,annotations:null!=Ee&&null!=xe?{names:Ee,operator:xe}:null,device_ids:null,channels:null!=fe&&null!=be?{names:fe,operator:be}:null,sr:ue},sort:{field:We,mode:qe},pagination:{from_idx:Be*De,to_idx:(Be+1)*De}};Je(Object(g.listSessions)(t.filter,t.sort,t.pagination,e.data))},Ue=[{label:"Start Date",options:"date",fromValue:z,toValue:$,onChangeFrom:J,onChangeTo:Q},{label:"End Date",options:"date",fromValue:ee,toValue:re,onChangeFrom:te,onChangeTo:le},{label:"Sample Rate",options:[44100,48e3],value:ue,onChange:ce},{label:"Channels",options:"multilineOperator",linesValue:fe,onChangeLines:me,operatorValue:be,onChangeOperator:he,operatorOptions:["and","or"]},{label:"Annotations",options:"multilineOperator",linesValue:Ee,onChangeLines:Se,operatorValue:xe,onChangeOperator:Ce,operatorOptions:["and","or"]}];return Object(a.useEffect)(Ge,[Be,qe,We,De]),Object(a.useEffect)((function(){Ae(0)}),[z,$,ee,re,ue,fe,be,Ee,xe,De]),r.a.createElement(v.SessionTable,{theme:d.otosenseTheme2022,data:ze,columns:y,clearFilters:function(){[J,Q,te,le,ce,me,he,Se,Ce].forEach((function(e){e(null)}))},submitFilters:Ge,filterOptions:Ue,rowsPerPage:De,onRowsPerPageChange:function(e){var t=e.target.value;Fe(parseInt(t,10)),Ae(0)},page:Be,onPageChange:function(e,t){Ae(t)},orderBy:We,order:qe,onOrderChange:function(e){Ye(e),Ve("asc"===qe?"desc":"asc"),Ae(0)},renderExpandedData:function(e){return r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:4},r.a.createElement(f.a,{direction:"row"},r.a.createElement(m.a,null,"Channels"),":",r.a.createElement(f.a,{mt:"5px",ml:0},e.channels.map((function(e,t){return r.a.createElement(d.FlexBox,{key:"channel-".concat(t),ml:1},r.a.createElement(p.a,{variant:"h5"},e.name),!!e.description&&r.a.createElement(p.a,{variant:"h6",mr:.5},"\xa0- ".concat(e.description)))}))))),r.a.createElement(s.a,{item:!0,sm:4},r.a.createElement(f.a,{direction:"row"},r.a.createElement(m.a,null,"Sample Rate: ".concat(e.sr)))))},isMultiSelect:e.isMultiSelect,onSelectSessions:e.onSelectSessions,sessionKey:"ID",totalCount:null!==(W=null===(Y=e.data)||void 0===Y?void 0:Y.length)&&void 0!==W?W:-1})},S=function(){var e=Object(i.useRenderData)(),t=e.args.sessions||[],n=e.args.query||null,l=e.args.is_multiselect||!1;return Object(a.useEffect)((function(){return u.Streamlit.setFrameHeight(1024)})),r.a.createElement(E,{data:t,onSelectSessions:function(e){console.log("OtoTable onSelectSessions",e),u.Streamlit.setComponentValue(e)},query:n,isMultiSelect:l})};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.StreamlitProvider,null,r.a.createElement(S,null))),document.getElementById("root"))}},[[429,1,2]]]);
//# sourceMappingURL=main.6aa5e729.chunk.js.map