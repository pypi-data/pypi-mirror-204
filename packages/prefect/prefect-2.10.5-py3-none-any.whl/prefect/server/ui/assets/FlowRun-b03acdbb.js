import{d as L,c as P,b as S,A as D,e as u,X as O,Z as B,g as N,a0 as V,a1 as Z,a2 as H,i as l,w as s,j as f,J,k as n,u as e,a3 as M,n as o,a4 as Q,s as m,a5 as U,a6 as W,a7 as X,a8 as $,a9 as q,aa as z,ab as E,y as G,W as K}from"./index-b3cd538e.js";import{u as Y}from"./usePageTitle-dbe2b77c.js";const le=L({__name:"FlowRun",setup(ee){const _=J(),i=P("flowRunId"),y=S(),v=D(y.flowRuns.getFlowRun,[i],{interval:5e3}),a=u(()=>v.response),b=u(()=>{var t;return(t=a.value)==null?void 0:t.deploymentId}),{deployment:p}=O(b),r=u(()=>{var t;return(t=a.value)!=null&&t.stateType?B(a.value.stateType):!0}),R=u(()=>[{label:"Logs",hidden:r.value},{label:"Task Runs",hidden:r.value},{label:"Subflow Runs",hidden:r.value},{label:"Results",hidden:r.value},{label:"Artifacts",hidden:r.value},{label:"Details"},{label:"Parameters"}]),{tab:d,tabs:g}=N(R,"Logs");V(i,(t,c)=>{t!==c&&(d.value="Logs")});const h=u(()=>{var t;return((t=a.value)==null?void 0:t.parameters)??{}}),k=u(()=>{var t;return((t=p.value)==null?void 0:t.parameterOpenApiSchema)??{}}),w=u(()=>Z(h.value,k.value));function x(){_.push(K.flowRuns())}const T=u(()=>{var t;return(t=a.value)==null?void 0:t.stateType});H(T);const F=u(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return Y(F),(t,c)=>{const I=f("p-code-highlight"),j=f("p-tabs"),A=f("p-layout-default");return n(),l(A,{class:"flow-run"},{header:s(()=>[e(a)?(n(),l(e(M),{key:0,"flow-run-id":e(a).id,onDelete:x},null,8,["flow-run-id"])):o("",!0)]),default:s(()=>[e(a)?(n(),l(e(Q),{key:0,"flow-run":e(a)},null,8,["flow-run"])):o("",!0),m(j,{selected:e(d),"onUpdate:selected":c[0]||(c[0]=C=>G(d)?d.value=C:null),tabs:e(g)},{details:s(()=>[e(a)?(n(),l(e(U),{key:0,"flow-run":e(a)},null,8,["flow-run"])):o("",!0)]),logs:s(()=>[e(a)?(n(),l(e(W),{key:0,"flow-run":e(a)},null,8,["flow-run"])):o("",!0)]),results:s(()=>[e(a)?(n(),l(e(X),{key:0,"flow-run":e(a)},null,8,["flow-run"])):o("",!0)]),artifacts:s(()=>[e(a)?(n(),l(e($),{key:0,"flow-run":e(a)},null,8,["flow-run"])):o("",!0)]),"task-runs":s(()=>[e(a)?(n(),l(e(q),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):o("",!0)]),"subflow-runs":s(()=>[e(a)?(n(),l(e(z),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):o("",!0)]),parameters:s(()=>[e(p)?(n(),l(e(E),{key:0,"text-to-copy":e(w)},{default:s(()=>[m(I,{lang:"json",text:e(w),class:"flow-run__parameters"},null,8,["text"])]),_:1},8,["text-to-copy"])):o("",!0)]),_:1},8,["selected","tabs"])]),_:1})}}});export{le as default};
