import{d as R,b as S,c as T,bt as U,A as q,e as a,B as F,g as O,am as V,u as o,i,w as t,n as m,j as s,k as d,s as l,bu as Y,bv as w,ar as j,bw as z,bx as D,y as G}from"./index-b3cd538e.js";import{u as Q}from"./usePageTitle-dbe2b77c.js";const I=R({__name:"WorkPool",setup(Z){const f=S(),n=T("workPoolName"),b=U(),_={interval:3e5},p=q(f.workPools.getWorkPoolByName,[n.value],_),e=a(()=>p.response),u=a(()=>{var r;return((r=e.value)==null?void 0:r.type)==="prefect-agent"}),v=a(()=>[{label:"Details",hidden:F.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:!b.access.workers||u.value}]),{tab:c,tabs:P}=O(v),g=a(()=>e.value?`Your work pool ${e.value.name} is ready to go!`:"Your work pool is ready to go!"),y=a(()=>{var r;return`prefect ${u.value?"agent":"worker"} start --pool ${(r=e.value)==null?void 0:r.name}`}),B=a(()=>`Work pools organize work that ${u.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:C}=V({workPools:{name:[n.value]}}),W=a(()=>e.value?`Work Pool: ${e.value.name}`:"Work Pool");return Q(W),(r,k)=>{const x=s("CodeBanner"),h=s("p-tabs"),N=s("p-layout-well"),$=s("p-layout-default");return o(e)?(d(),i($,{key:0},{header:t(()=>[l(o(Y),{"work-pool":o(e),onUpdate:o(p).refresh},null,8,["work-pool","onUpdate"])]),default:t(()=>[o(e)?(d(),i(N,{key:0,class:"work-pool"},{header:t(()=>[l(x,{command:o(y),title:o(g),subtitle:o(B)},null,8,["command","title","subtitle"])]),well:t(()=>[l(o(w),{alternate:"","work-pool":o(e)},null,8,["work-pool"])]),default:t(()=>[l(h,{selected:o(c),"onUpdate:selected":k[0]||(k[0]=A=>G(c)?c.value=A:null),tabs:o(P)},{details:t(()=>[l(o(w),{"work-pool":o(e)},null,8,["work-pool"])]),runs:t(()=>[l(o(j),{"flow-run-filter":o(C)},null,8,["flow-run-filter"])]),"work-queues":t(()=>[l(o(z),{"work-pool-name":o(n)},null,8,["work-pool-name"])]),workers:t(()=>[l(o(D),{"work-pool-name":o(n)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):m("",!0)]),_:1})):m("",!0)}}});export{I as default};
