import{d as B,c as C,b as N,e as n,B as V,ae as p,a2 as j,u as t,i as k,w as e,n as _,j as l,J as A,k as d,s as u,af as F,ag as f,V as J,v as R,ah as O,x as W,f as L,ai as P,ab as Q,W as $}from"./index-b3cd538e.js";import{u as q}from"./usePageTitle-dbe2b77c.js";const K=B({__name:"TaskRun",setup(z){const m=A(),r=C("taskRunId"),c=N(),v=n(()=>{const a=["Logs","Task Inputs"];return V.xl||a.push("Details"),a}),g=n(()=>r.value?[r.value]:null),h=p(c.taskRuns.getTaskRun,g,{interval:3e4}),s=n(()=>h.response),o=n(()=>{var a;return(a=s.value)==null?void 0:a.flowRunId}),y=n(()=>o.value?[o.value]:null),T=p(c.flowRuns.getFlowRun,y),i=n(()=>{var a;return(a=s.value)!=null&&a.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function w(){T.refresh(),m.push($.flowRun(o.value))}const x=n(()=>{var a;return(a=s.value)==null?void 0:a.stateType});j(x);const b=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return q(b),(a,E)=>{const I=l("p-code-highlight"),D=l("p-tabs"),S=l("p-layout-well");return t(s)?(d(),k(S,{key:0,class:"task-run"},{header:e(()=>[u(t(F),{"task-run-id":t(s).id,onDelete:w},null,8,["task-run-id"])]),well:e(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:e(()=>[u(D,{tabs:t(v)},J({details:e(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:e(()=>[u(t(P),{"task-run":t(s)},null,8,["task-run"])]),"task-inputs":e(()=>[t(s)?(d(),k(t(Q),{key:0,"text-to-copy":t(i)},{default:e(()=>[u(I,{lang:"json",text:t(i),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):_("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:e(()=>[R(" Task inputs "),u(t(O),{title:"Task Inputs"},{default:e(()=>[R(W(t(L).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):_("",!0)}}});export{K as default};
