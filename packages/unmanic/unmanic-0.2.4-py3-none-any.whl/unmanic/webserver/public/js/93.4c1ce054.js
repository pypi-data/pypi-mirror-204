"use strict";(self["webpackChunkunmanic_frontend"]=self["webpackChunkunmanic_frontend"]||[]).push([[93],{7093:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(9835),a=n(6970);const r={class:"iframe-container"},s=["src"],o={key:1},l={class:"full-width row flex-center text-negative q-gutter-sm"},u={class:"full-width row flex-center text-negative absolute-center"};function d(e,t,n,d,c,m){const g=(0,i.up)("q-icon"),p=(0,i.up)("q-item-label"),f=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(f,null,{default:(0,i.w5)((()=>[(0,i._)("div",r,[null!==c.iframeSrc?((0,i.wg)(),(0,i.iD)("iframe",{key:0,id:"data-panel-iframe",src:c.iframeSrc},"\n        Your browser is not supported. Sorry.\n      ",8,s)):((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",l,[(0,i.Wm)(g,{size:"2em",name:"sentiment_dissatisfied"}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.$t("components.dataPanels.noDataPanelsEnabled")),1)])),_:1}),(0,i.Wm)(g,{size:"2em",name:"priority_high"})]),(0,i._)("div",u,[(0,i.Wm)(g,{size:"512px",name:"warning_amber"})])]))])])),_:1})}var c=n(499),m=n(9981),g=n.n(m),p=n(6888),f=n(3833);const h={data(){const e=(0,c.iH)(null);return{page:"",iframeSrc:e,iframeHeight:"0px"}},created(){console.debug("Component has been created!"),"undefined"!==typeof this.$route.query&&"undefined"!==typeof this.$route.query.pluginId?(console.debug("Initial update using query in uri - "+this.$route.query.pluginId),this.setPageFromParams(this.$route.query.pluginId)):(console.debug("Fetching enabled panel plugins list and setting the first result as current window"),this.setPageAsFirstEnabledPanel())},methods:{setPageFromParams(e){if("undefined"!==typeof e){let t=f.Z.getItem("theme");console.debug('setting iframe url to "/unmanic/panel/'+e+"/?theme="+t+'"'),this.iframeSrc="/unmanic/panel/"+e+"/?theme="+t}},setPageAsFirstEnabledPanel(){g()({method:"get",url:(0,p.J4)("v2","plugins/panels/enabled")}).then((e=>{if(e.data.results.length>0){let t=e.data.results[0];this.setPageFromParams(t.plugin_id)}})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToFetchEnabledDataPanelPlugins"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))}},watch:{$route(e,t){"undefined"!==typeof e.query&&(console.debug("Detected change in route with query in uri - "+e.query.pluginId),this.setPageFromParams(e.query.pluginId))}}};var b=n(1639),w=n(9885),y=n(2857),P=n(3115),q=n(9984),_=n.n(q);const v=(0,b.Z)(h,[["render",d]]),I=v;_()(h,"components",{QPage:w.Z,QIcon:y.Z,QItemLabel:P.Z})}}]);